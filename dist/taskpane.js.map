{"version":3,"file":"taskpane.js","mappings":"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","sources":["webpack://office-addin-taskpane-js/./src/taskpane/taskpane.html","webpack://office-addin-taskpane-js/./node_modules/html-loader/dist/runtime/getUrl.js","webpack://office-addin-taskpane-js/webpack/bootstrap","webpack://office-addin-taskpane-js/webpack/runtime/compat get default export","webpack://office-addin-taskpane-js/webpack/runtime/define property getters","webpack://office-addin-taskpane-js/webpack/runtime/global","webpack://office-addin-taskpane-js/webpack/runtime/hasOwnProperty shorthand","webpack://office-addin-taskpane-js/webpack/runtime/make namespace object","webpack://office-addin-taskpane-js/webpack/runtime/publicPath","webpack://office-addin-taskpane-js/webpack/runtime/jsonp chunk loading","webpack://office-addin-taskpane-js/./node_modules/openai/version.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/_shims/registry.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/_shims/MultipartBody.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/_shims/index.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/_shims/web-runtime.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/error.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/streaming.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/uploads.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/core.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/pagination.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/resource.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/resources/completions.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/resources/chat/completions.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/resources/chat/chat.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/resources/edits.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/resources/embeddings.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/resources/files.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/resources/images.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/resources/audio/speech.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/resources/audio/transcriptions.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/resources/audio/translations.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/resources/audio/audio.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/resources/moderations.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/resources/models.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/resources/fine-tuning/jobs.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/resources/fine-tuning/fine-tuning.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/resources/fine-tunes.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/resources/beta/assistants/files.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/resources/beta/assistants/assistants.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/lib/RunnableFunction.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/lib/chatCompletionUtils.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/lib/AbstractChatCompletionRunner.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/lib/ChatCompletionRunner.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/lib/ChatCompletionStream.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/index.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/lib/ChatCompletionStreamingRunner.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/resources/beta/chat/completions.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/resources/beta/chat/chat.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/resources/beta/threads/messages/files.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/resources/beta/threads/messages/messages.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/resources/beta/threads/runs/steps.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/resources/beta/threads/runs/runs.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/resources/beta/threads/threads.mjs","webpack://office-addin-taskpane-js/./node_modules/openai/resources/beta/beta.mjs","webpack://office-addin-taskpane-js/./src/taskpane/api.js","webpack://office-addin-taskpane-js/./src/taskpane/taskpane.js","webpack://office-addin-taskpane-js/./src/taskpane/database.js"],"sourcesContent":["// Imports\nimport ___HTML_LOADER_GET_SOURCE_FROM_IMPORT___ from \"../../node_modules/html-loader/dist/runtime/getUrl.js\";\nvar ___HTML_LOADER_IMPORT_0___ = new URL(\"./taskpane.css\", import.meta.url);\nvar ___HTML_LOADER_IMPORT_1___ = new URL(\"../../assets/logo-filled.png\", import.meta.url);\n// Module\nvar ___HTML_LOADER_REPLACEMENT_0___ = ___HTML_LOADER_GET_SOURCE_FROM_IMPORT___(___HTML_LOADER_IMPORT_0___);\nvar ___HTML_LOADER_REPLACEMENT_1___ = ___HTML_LOADER_GET_SOURCE_FROM_IMPORT___(___HTML_LOADER_IMPORT_1___);\nvar code = \" <!DOCTYPE html> <html> <head> <meta charset=\\\"UTF-8\\\"/> <meta http-equiv=\\\"X-UA-Compatible\\\" content=\\\"IE=Edge\\\"/> <meta name=\\\"viewport\\\" content=\\\"width=device-width,initial-scale=1\\\"/> <title>Contoso Task Pane Add-in</title> <\" + \"script src=\\\"https://appsforoffice.microsoft.com/lib/1.1/hosted/office.js\\\"><\" + \"/script> <link rel=\\\"stylesheet\\\" href=\\\"https://static2.sharepointonline.com/files/fabric/office-ui-fabric-core/11.0.0/css/fabric.min.css\\\"/> <link href=\\\"\" + ___HTML_LOADER_REPLACEMENT_0___ + \"\\\" rel=\\\"stylesheet\\\"/> </head> <body class=\\\"ms-font-m ms-welcome ms-Fabric\\\"> <header class=\\\"ms-welcome__header ms-bgColor-neutralLighter\\\"> <img width=\\\"90\\\" height=\\\"90\\\" src=\\\"\" + ___HTML_LOADER_REPLACEMENT_1___ + \"\\\" alt=\\\"Contoso\\\" title=\\\"Contoso\\\"/> <h1 class=\\\"ms-font-xl\\\">Imagem para descrição</h1> </header> <section id=\\\"sideload-msg\\\" class=\\\"ms-welcome__main\\\"> <h2 class=\\\"ms-font-xl\\\"> Please <a target=\\\"_blank\\\" href=\\\"https://learn.microsoft.com/office/dev/add-ins/testing/test-debug-office-add-ins#sideload-an-office-add-in-for-testing\\\">sideload</a> your add-in to see app body. </h2> </section> <main id=\\\"app-body\\\" class=\\\"ms-welcome__main\\\" style=\\\"display:none\\\"> <p class=\\\"prompt-setting\\\">Lista de prompts</p> <select id=\\\"prompt-list\\\" class=\\\"prompt-list\\\"></select> <button type=\\\"button\\\" id=\\\"clear-list\\\" class=\\\"clear-list\\\">Limpar lista</button> <p class=\\\"prompt-save\\\">Digite Prompt ou Pergunta aqui</p> <textarea id=\\\"prompt-text\\\" , class=\\\"prompt-text\\\" rows=\\\"4\\\" cols=\\\"35\\\">Explain about the image</textarea> <button type=\\\"button\\\" id=\\\"save-button\\\" class=\\\"save-button\\\">Salvar</button> <p class=\\\"prompt-setting\\\">Descreva a imagem para</p> <select id=\\\"describe-image\\\" class=\\\"describe-image\\\"> <option value=\\\"describe-selected\\\">Descreva a imagem selecionada</option> <option value=\\\"describe-all\\\">Descreva todas as imagens</option> </select> <p class=\\\"prompt-setting\\\">Use prompt com</p> <select id=\\\"use-prompt\\\" class=\\\"use-prompt\\\"> <option value=\\\"use-entered\\\">Usar prompt digitado</option> <option value=\\\"use-list\\\">Usar prompt da lista</option> </select> <p class=\\\"prompt-setting\\\">Tipos de livros</p> <select id=\\\"book-type\\\" class=\\\"book-type\\\"> <option value=\\\"no\\\">Não use prompts salvos</option> <option value=\\\"Mathematics\\\">Matemática</option> <option value=\\\"Geography\\\">Geografia</option> <option value=\\\"History\\\">Histórico</option> <option value=\\\"Physics\\\">Física</option> <option value=\\\"Liberation\\\">Liberação</option> </select> <p class=\\\"prompt-setting\\\">Idade do público-alvo</p> <select id=\\\"client-age\\\" class=\\\"client-age\\\"> <option value=\\\"no\\\">Não use prompts salvos</option> <option value=\\\"0-6\\\">0 a 6 anos</option> <option value=\\\"7-12\\\">7 a 12 anos</option> <option value=\\\"13-17\\\">13 a 17 anos</option> <option value=\\\"high-level\\\">Adulto</option> </select> <p class=\\\"prompt-setting\\\">Idiomas</p> <select id=\\\"language\\\" class=\\\"language\\\"> <option value=\\\"English\\\">Inglês</option> <option value=\\\"Portugese\\\">portuense</option> <option value=\\\"Spainish\\\">Espanhol</option> <option value=\\\"German\\\">Alemão</option> <option value=\\\"Italian\\\">Italiano</option> <option value=\\\"Chinese\\\">Chinês</option> </select> <button class=\\\"ms-Button\\\" id=\\\"insert-paragraph\\\">Gerar descrição</button><br/><br/> </main> </body> </html> \";\n// Exports\nexport default code;","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    // eslint-disable-next-line no-param-reassign\n    options = {};\n  }\n\n  if (!url) {\n    return url;\n  } // eslint-disable-next-line no-underscore-dangle, no-param-reassign\n\n\n  url = String(url.__esModule ? url.default : url);\n\n  if (options.hash) {\n    // eslint-disable-next-line no-param-reassign\n    url += options.hash;\n  }\n\n  if (options.maybeNeedQuotes && /[\\t\\n\\f\\r \"'=<>`]/.test(url)) {\n    return \"\\\"\".concat(url, \"\\\"\");\n  }\n\n  return url;\n};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && !scriptUrl) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t41: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// no jsonp function","export const VERSION = '4.17.4'; // x-release-please-version\n//# sourceMappingURL=version.mjs.map","export let auto = false;\nexport let kind = undefined;\nexport let fetch = undefined;\nexport let Request = undefined;\nexport let Response = undefined;\nexport let Headers = undefined;\nexport let FormData = undefined;\nexport let Blob = undefined;\nexport let File = undefined;\nexport let ReadableStream = undefined;\nexport let getMultipartRequestOptions = undefined;\nexport let getDefaultAgent = undefined;\nexport let fileFromPath = undefined;\nexport let isFsReadStream = undefined;\nexport function setShims(shims, options = { auto: false }) {\n    if (auto) {\n        throw new Error(`you must \\`import 'openai/shims/${shims.kind}'\\` before importing anything else from openai`);\n    }\n    if (kind) {\n        throw new Error(`can't \\`import 'openai/shims/${shims.kind}'\\` after \\`import 'openai/shims/${kind}'\\``);\n    }\n    auto = options.auto;\n    kind = shims.kind;\n    fetch = shims.fetch;\n    Request = shims.Request;\n    Response = shims.Response;\n    Headers = shims.Headers;\n    FormData = shims.FormData;\n    Blob = shims.Blob;\n    File = shims.File;\n    ReadableStream = shims.ReadableStream;\n    getMultipartRequestOptions = shims.getMultipartRequestOptions;\n    getDefaultAgent = shims.getDefaultAgent;\n    fileFromPath = shims.fileFromPath;\n    isFsReadStream = shims.isFsReadStream;\n}\n//# sourceMappingURL=registry.mjs.map","/**\n * Disclaimer: modules in _shims aren't intended to be imported by SDK users.\n */\nexport class MultipartBody {\n    constructor(body) {\n        this.body = body;\n    }\n    get [Symbol.toStringTag]() {\n        return 'MultipartBody';\n    }\n}\n//# sourceMappingURL=MultipartBody.mjs.map","/**\n * Disclaimer: modules in _shims aren't intended to be imported by SDK users.\n */\nimport * as shims from './registry.mjs';\nimport * as auto from 'openai/_shims/auto/runtime';\nif (!shims.kind) shims.setShims(auto.getRuntime(), { auto: true });\nexport * from './registry.mjs';\n","import { MultipartBody } from \"./MultipartBody.mjs\";\nexport function getRuntime({ manuallyImported } = {}) {\n    const recommendation = manuallyImported ?\n        `You may need to use polyfills`\n        : `Add one of these imports before your first \\`import … from 'openai'\\`:\n- \\`import 'openai/shims/node'\\` (if you're running on Node)\n- \\`import 'openai/shims/web'\\` (otherwise)\n`;\n    let _fetch, _Request, _Response, _Headers;\n    try {\n        // @ts-ignore\n        _fetch = fetch;\n        // @ts-ignore\n        _Request = Request;\n        // @ts-ignore\n        _Response = Response;\n        // @ts-ignore\n        _Headers = Headers;\n    }\n    catch (error) {\n        throw new Error(`this environment is missing the following Web Fetch API type: ${error.message}. ${recommendation}`);\n    }\n    return {\n        kind: 'web',\n        fetch: _fetch,\n        Request: _Request,\n        Response: _Response,\n        Headers: _Headers,\n        FormData: \n        // @ts-ignore\n        typeof FormData !== 'undefined' ? FormData : (class FormData {\n            // @ts-ignore\n            constructor() {\n                throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${recommendation}`);\n            }\n        }),\n        Blob: typeof Blob !== 'undefined' ? Blob : (class Blob {\n            constructor() {\n                throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${recommendation}`);\n            }\n        }),\n        File: \n        // @ts-ignore\n        typeof File !== 'undefined' ? File : (class File {\n            // @ts-ignore\n            constructor() {\n                throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${recommendation}`);\n            }\n        }),\n        ReadableStream: \n        // @ts-ignore\n        typeof ReadableStream !== 'undefined' ? ReadableStream : (class ReadableStream {\n            // @ts-ignore\n            constructor() {\n                throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${recommendation}`);\n            }\n        }),\n        getMultipartRequestOptions: async (\n        // @ts-ignore\n        form, opts) => ({\n            ...opts,\n            body: new MultipartBody(form),\n        }),\n        getDefaultAgent: (url) => undefined,\n        fileFromPath: () => {\n            throw new Error('The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads');\n        },\n        isFsReadStream: (value) => false,\n    };\n}\n//# sourceMappingURL=web-runtime.mjs.map","// File generated from our OpenAPI spec by Stainless.\nimport { castToError } from \"./core.mjs\";\nexport class OpenAIError extends Error {\n}\nexport class APIError extends OpenAIError {\n    constructor(status, error, message, headers) {\n        super(`${APIError.makeMessage(status, error, message)}`);\n        this.status = status;\n        this.headers = headers;\n        const data = error;\n        this.error = data;\n        this.code = data?.['code'];\n        this.param = data?.['param'];\n        this.type = data?.['type'];\n    }\n    static makeMessage(status, error, message) {\n        const msg = error?.message ?\n            typeof error.message === 'string' ? error.message\n                : JSON.stringify(error.message)\n            : error ? JSON.stringify(error)\n                : message;\n        if (status && msg) {\n            return `${status} ${msg}`;\n        }\n        if (status) {\n            return `${status} status code (no body)`;\n        }\n        if (msg) {\n            return msg;\n        }\n        return '(no status code or body)';\n    }\n    static generate(status, errorResponse, message, headers) {\n        if (!status) {\n            return new APIConnectionError({ cause: castToError(errorResponse) });\n        }\n        const error = errorResponse?.['error'];\n        if (status === 400) {\n            return new BadRequestError(status, error, message, headers);\n        }\n        if (status === 401) {\n            return new AuthenticationError(status, error, message, headers);\n        }\n        if (status === 403) {\n            return new PermissionDeniedError(status, error, message, headers);\n        }\n        if (status === 404) {\n            return new NotFoundError(status, error, message, headers);\n        }\n        if (status === 409) {\n            return new ConflictError(status, error, message, headers);\n        }\n        if (status === 422) {\n            return new UnprocessableEntityError(status, error, message, headers);\n        }\n        if (status === 429) {\n            return new RateLimitError(status, error, message, headers);\n        }\n        if (status >= 500) {\n            return new InternalServerError(status, error, message, headers);\n        }\n        return new APIError(status, error, message, headers);\n    }\n}\nexport class APIUserAbortError extends APIError {\n    constructor({ message } = {}) {\n        super(undefined, undefined, message || 'Request was aborted.', undefined);\n        this.status = undefined;\n    }\n}\nexport class APIConnectionError extends APIError {\n    constructor({ message, cause }) {\n        super(undefined, undefined, message || 'Connection error.', undefined);\n        this.status = undefined;\n        // in some environments the 'cause' property is already declared\n        // @ts-ignore\n        if (cause)\n            this.cause = cause;\n    }\n}\nexport class APIConnectionTimeoutError extends APIConnectionError {\n    constructor({ message } = {}) {\n        super({ message: message ?? 'Request timed out.' });\n    }\n}\nexport class BadRequestError extends APIError {\n    constructor() {\n        super(...arguments);\n        this.status = 400;\n    }\n}\nexport class AuthenticationError extends APIError {\n    constructor() {\n        super(...arguments);\n        this.status = 401;\n    }\n}\nexport class PermissionDeniedError extends APIError {\n    constructor() {\n        super(...arguments);\n        this.status = 403;\n    }\n}\nexport class NotFoundError extends APIError {\n    constructor() {\n        super(...arguments);\n        this.status = 404;\n    }\n}\nexport class ConflictError extends APIError {\n    constructor() {\n        super(...arguments);\n        this.status = 409;\n    }\n}\nexport class UnprocessableEntityError extends APIError {\n    constructor() {\n        super(...arguments);\n        this.status = 422;\n    }\n}\nexport class RateLimitError extends APIError {\n    constructor() {\n        super(...arguments);\n        this.status = 429;\n    }\n}\nexport class InternalServerError extends APIError {\n}\n//# sourceMappingURL=error.mjs.map","import { ReadableStream } from \"./_shims/index.mjs\";\nimport { OpenAIError } from \"./error.mjs\";\nimport { APIError } from 'openai/error';\nexport class Stream {\n    constructor(iterator, controller) {\n        this.iterator = iterator;\n        this.controller = controller;\n    }\n    static fromSSEResponse(response, controller) {\n        let consumed = false;\n        const decoder = new SSEDecoder();\n        async function* iterMessages() {\n            if (!response.body) {\n                controller.abort();\n                throw new OpenAIError(`Attempted to iterate over a response with no body`);\n            }\n            const lineDecoder = new LineDecoder();\n            const iter = readableStreamAsyncIterable(response.body);\n            for await (const chunk of iter) {\n                for (const line of lineDecoder.decode(chunk)) {\n                    const sse = decoder.decode(line);\n                    if (sse)\n                        yield sse;\n                }\n            }\n            for (const line of lineDecoder.flush()) {\n                const sse = decoder.decode(line);\n                if (sse)\n                    yield sse;\n            }\n        }\n        async function* iterator() {\n            if (consumed) {\n                throw new Error('Cannot iterate over a consumed stream, use `.tee()` to split the stream.');\n            }\n            consumed = true;\n            let done = false;\n            try {\n                for await (const sse of iterMessages()) {\n                    if (done)\n                        continue;\n                    if (sse.data.startsWith('[DONE]')) {\n                        done = true;\n                        continue;\n                    }\n                    if (sse.event === null) {\n                        let data;\n                        try {\n                            data = JSON.parse(sse.data);\n                        }\n                        catch (e) {\n                            console.error(`Could not parse message into JSON:`, sse.data);\n                            console.error(`From chunk:`, sse.raw);\n                            throw e;\n                        }\n                        if (data && data.error) {\n                            throw new APIError(undefined, data.error, undefined, undefined);\n                        }\n                        yield data;\n                    }\n                }\n                done = true;\n            }\n            catch (e) {\n                // If the user calls `stream.controller.abort()`, we should exit without throwing.\n                if (e instanceof Error && e.name === 'AbortError')\n                    return;\n                throw e;\n            }\n            finally {\n                // If the user `break`s, abort the ongoing request.\n                if (!done)\n                    controller.abort();\n            }\n        }\n        return new Stream(iterator, controller);\n    }\n    /**\n     * Generates a Stream from a newline-separated ReadableStream\n     * where each item is a JSON value.\n     */\n    static fromReadableStream(readableStream, controller) {\n        let consumed = false;\n        async function* iterLines() {\n            const lineDecoder = new LineDecoder();\n            const iter = readableStreamAsyncIterable(readableStream);\n            for await (const chunk of iter) {\n                for (const line of lineDecoder.decode(chunk)) {\n                    yield line;\n                }\n            }\n            for (const line of lineDecoder.flush()) {\n                yield line;\n            }\n        }\n        async function* iterator() {\n            if (consumed) {\n                throw new Error('Cannot iterate over a consumed stream, use `.tee()` to split the stream.');\n            }\n            consumed = true;\n            let done = false;\n            try {\n                for await (const line of iterLines()) {\n                    if (done)\n                        continue;\n                    if (line)\n                        yield JSON.parse(line);\n                }\n                done = true;\n            }\n            catch (e) {\n                // If the user calls `stream.controller.abort()`, we should exit without throwing.\n                if (e instanceof Error && e.name === 'AbortError')\n                    return;\n                throw e;\n            }\n            finally {\n                // If the user `break`s, abort the ongoing request.\n                if (!done)\n                    controller.abort();\n            }\n        }\n        return new Stream(iterator, controller);\n    }\n    [Symbol.asyncIterator]() {\n        return this.iterator();\n    }\n    /**\n     * Splits the stream into two streams which can be\n     * independently read from at different speeds.\n     */\n    tee() {\n        const left = [];\n        const right = [];\n        const iterator = this.iterator();\n        const teeIterator = (queue) => {\n            return {\n                next: () => {\n                    if (queue.length === 0) {\n                        const result = iterator.next();\n                        left.push(result);\n                        right.push(result);\n                    }\n                    return queue.shift();\n                },\n            };\n        };\n        return [\n            new Stream(() => teeIterator(left), this.controller),\n            new Stream(() => teeIterator(right), this.controller),\n        ];\n    }\n    /**\n     * Converts this stream to a newline-separated ReadableStream of\n     * JSON stringified values in the stream\n     * which can be turned back into a Stream with `Stream.fromReadableStream()`.\n     */\n    toReadableStream() {\n        const self = this;\n        let iter;\n        const encoder = new TextEncoder();\n        return new ReadableStream({\n            async start() {\n                iter = self[Symbol.asyncIterator]();\n            },\n            async pull(ctrl) {\n                try {\n                    const { value, done } = await iter.next();\n                    if (done)\n                        return ctrl.close();\n                    const bytes = encoder.encode(JSON.stringify(value) + '\\n');\n                    ctrl.enqueue(bytes);\n                }\n                catch (err) {\n                    ctrl.error(err);\n                }\n            },\n            async cancel() {\n                await iter.return?.();\n            },\n        });\n    }\n}\nclass SSEDecoder {\n    constructor() {\n        this.event = null;\n        this.data = [];\n        this.chunks = [];\n    }\n    decode(line) {\n        if (line.endsWith('\\r')) {\n            line = line.substring(0, line.length - 1);\n        }\n        if (!line) {\n            // empty line and we didn't previously encounter any messages\n            if (!this.event && !this.data.length)\n                return null;\n            const sse = {\n                event: this.event,\n                data: this.data.join('\\n'),\n                raw: this.chunks,\n            };\n            this.event = null;\n            this.data = [];\n            this.chunks = [];\n            return sse;\n        }\n        this.chunks.push(line);\n        if (line.startsWith(':')) {\n            return null;\n        }\n        let [fieldname, _, value] = partition(line, ':');\n        if (value.startsWith(' ')) {\n            value = value.substring(1);\n        }\n        if (fieldname === 'event') {\n            this.event = value;\n        }\n        else if (fieldname === 'data') {\n            this.data.push(value);\n        }\n        return null;\n    }\n}\n/**\n * A re-implementation of httpx's `LineDecoder` in Python that handles incrementally\n * reading lines from text.\n *\n * https://github.com/encode/httpx/blob/920333ea98118e9cf617f246905d7b202510941c/httpx/_decoders.py#L258\n */\nclass LineDecoder {\n    constructor() {\n        this.buffer = [];\n        this.trailingCR = false;\n    }\n    decode(chunk) {\n        let text = this.decodeText(chunk);\n        if (this.trailingCR) {\n            text = '\\r' + text;\n            this.trailingCR = false;\n        }\n        if (text.endsWith('\\r')) {\n            this.trailingCR = true;\n            text = text.slice(0, -1);\n        }\n        if (!text) {\n            return [];\n        }\n        const trailingNewline = LineDecoder.NEWLINE_CHARS.has(text[text.length - 1] || '');\n        let lines = text.split(LineDecoder.NEWLINE_REGEXP);\n        if (lines.length === 1 && !trailingNewline) {\n            this.buffer.push(lines[0]);\n            return [];\n        }\n        if (this.buffer.length > 0) {\n            lines = [this.buffer.join('') + lines[0], ...lines.slice(1)];\n            this.buffer = [];\n        }\n        if (!trailingNewline) {\n            this.buffer = [lines.pop() || ''];\n        }\n        return lines;\n    }\n    decodeText(bytes) {\n        if (bytes == null)\n            return '';\n        if (typeof bytes === 'string')\n            return bytes;\n        // Node:\n        if (typeof Buffer !== 'undefined') {\n            if (bytes instanceof Buffer) {\n                return bytes.toString();\n            }\n            if (bytes instanceof Uint8Array) {\n                return Buffer.from(bytes).toString();\n            }\n            throw new OpenAIError(`Unexpected: received non-Uint8Array (${bytes.constructor.name}) stream chunk in an environment with a global \"Buffer\" defined, which this library assumes to be Node. Please report this error.`);\n        }\n        // Browser\n        if (typeof TextDecoder !== 'undefined') {\n            if (bytes instanceof Uint8Array || bytes instanceof ArrayBuffer) {\n                this.textDecoder ?? (this.textDecoder = new TextDecoder('utf8'));\n                return this.textDecoder.decode(bytes);\n            }\n            throw new OpenAIError(`Unexpected: received non-Uint8Array/ArrayBuffer (${bytes.constructor.name}) in a web platform. Please report this error.`);\n        }\n        throw new OpenAIError(`Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.`);\n    }\n    flush() {\n        if (!this.buffer.length && !this.trailingCR) {\n            return [];\n        }\n        const lines = [this.buffer.join('')];\n        this.buffer = [];\n        this.trailingCR = false;\n        return lines;\n    }\n}\n// prettier-ignore\nLineDecoder.NEWLINE_CHARS = new Set(['\\n', '\\r', '\\x0b', '\\x0c', '\\x1c', '\\x1d', '\\x1e', '\\x85', '\\u2028', '\\u2029']);\nLineDecoder.NEWLINE_REGEXP = /\\r\\n|[\\n\\r\\x0b\\x0c\\x1c\\x1d\\x1e\\x85\\u2028\\u2029]/g;\nfunction partition(str, delimiter) {\n    const index = str.indexOf(delimiter);\n    if (index !== -1) {\n        return [str.substring(0, index), delimiter, str.substring(index + delimiter.length)];\n    }\n    return [str, '', ''];\n}\n/**\n * Most browsers don't yet have async iterable support for ReadableStream,\n * and Node has a very different way of reading bytes from its \"ReadableStream\".\n *\n * This polyfill was pulled from https://github.com/MattiasBuelens/web-streams-polyfill/pull/122#issuecomment-1627354490\n */\nfunction readableStreamAsyncIterable(stream) {\n    if (stream[Symbol.asyncIterator])\n        return stream;\n    const reader = stream.getReader();\n    return {\n        async next() {\n            try {\n                const result = await reader.read();\n                if (result?.done)\n                    reader.releaseLock(); // release lock when stream becomes closed\n                return result;\n            }\n            catch (e) {\n                reader.releaseLock(); // release lock when stream becomes errored\n                throw e;\n            }\n        },\n        async return() {\n            const cancelPromise = reader.cancel();\n            reader.releaseLock();\n            await cancelPromise;\n            return { done: true, value: undefined };\n        },\n        [Symbol.asyncIterator]() {\n            return this;\n        },\n    };\n}\n//# sourceMappingURL=streaming.mjs.map","import { FormData, File, getMultipartRequestOptions, isFsReadStream, } from \"./_shims/index.mjs\";\nexport { fileFromPath } from \"./_shims/index.mjs\";\nexport const isResponseLike = (value) => value != null &&\n    typeof value === 'object' &&\n    typeof value.url === 'string' &&\n    typeof value.blob === 'function';\nexport const isFileLike = (value) => value != null &&\n    typeof value === 'object' &&\n    typeof value.name === 'string' &&\n    typeof value.lastModified === 'number' &&\n    isBlobLike(value);\n/**\n * The BlobLike type omits arrayBuffer() because @types/node-fetch@^2.6.4 lacks it; but this check\n * adds the arrayBuffer() method type because it is available and used at runtime\n */\nexport const isBlobLike = (value) => value != null &&\n    typeof value === 'object' &&\n    typeof value.size === 'number' &&\n    typeof value.type === 'string' &&\n    typeof value.text === 'function' &&\n    typeof value.slice === 'function' &&\n    typeof value.arrayBuffer === 'function';\nexport const isUploadable = (value) => {\n    return isFileLike(value) || isResponseLike(value) || isFsReadStream(value);\n};\n/**\n * Helper for creating a {@link File} to pass to an SDK upload method from a variety of different data formats\n * @param value the raw content of the file.  Can be an {@link Uploadable}, {@link BlobLikePart}, or {@link AsyncIterable} of {@link BlobLikePart}s\n * @param {string=} name the name of the file. If omitted, toFile will try to determine a file name from bits if possible\n * @param {Object=} options additional properties\n * @param {string=} options.type the MIME type of the content\n * @param {number=} options.lastModified the last modified timestamp\n * @returns a {@link File} with the given properties\n */\nexport async function toFile(value, name, options = {}) {\n    // If it's a promise, resolve it.\n    value = await value;\n    if (isResponseLike(value)) {\n        const blob = await value.blob();\n        name || (name = new URL(value.url).pathname.split(/[\\\\/]/).pop() ?? 'unknown_file');\n        return new File([blob], name, options);\n    }\n    const bits = await getBytes(value);\n    name || (name = getName(value) ?? 'unknown_file');\n    if (!options.type) {\n        const type = bits[0]?.type;\n        if (typeof type === 'string') {\n            options = { ...options, type };\n        }\n    }\n    return new File(bits, name, options);\n}\nasync function getBytes(value) {\n    let parts = [];\n    if (typeof value === 'string' ||\n        ArrayBuffer.isView(value) || // includes Uint8Array, Buffer, etc.\n        value instanceof ArrayBuffer) {\n        parts.push(value);\n    }\n    else if (isBlobLike(value)) {\n        parts.push(await value.arrayBuffer());\n    }\n    else if (isAsyncIterableIterator(value) // includes Readable, ReadableStream, etc.\n    ) {\n        for await (const chunk of value) {\n            parts.push(chunk); // TODO, consider validating?\n        }\n    }\n    else {\n        throw new Error(`Unexpected data type: ${typeof value}; constructor: ${value?.constructor?.name}; props: ${propsForError(value)}`);\n    }\n    return parts;\n}\nfunction propsForError(value) {\n    const props = Object.getOwnPropertyNames(value);\n    return `[${props.map((p) => `\"${p}\"`).join(', ')}]`;\n}\nfunction getName(value) {\n    return (getStringFromMaybeBuffer(value.name) ||\n        getStringFromMaybeBuffer(value.filename) ||\n        // For fs.ReadStream\n        getStringFromMaybeBuffer(value.path)?.split(/[\\\\/]/).pop());\n}\nconst getStringFromMaybeBuffer = (x) => {\n    if (typeof x === 'string')\n        return x;\n    if (typeof Buffer !== 'undefined' && x instanceof Buffer)\n        return String(x);\n    return undefined;\n};\nconst isAsyncIterableIterator = (value) => value != null && typeof value === 'object' && typeof value[Symbol.asyncIterator] === 'function';\nexport const isMultipartBody = (body) => body && typeof body === 'object' && body.body && body[Symbol.toStringTag] === 'MultipartBody';\n/**\n * Returns a multipart/form-data request if any part of the given request body contains a File / Blob value.\n * Otherwise returns the request as is.\n */\nexport const maybeMultipartFormRequestOptions = async (opts) => {\n    if (!hasUploadableValue(opts.body))\n        return opts;\n    const form = await createForm(opts.body);\n    return getMultipartRequestOptions(form, opts);\n};\nexport const multipartFormRequestOptions = async (opts) => {\n    const form = await createForm(opts.body);\n    return getMultipartRequestOptions(form, opts);\n};\nexport const createForm = async (body) => {\n    const form = new FormData();\n    await Promise.all(Object.entries(body || {}).map(([key, value]) => addFormValue(form, key, value)));\n    return form;\n};\nconst hasUploadableValue = (value) => {\n    if (isUploadable(value))\n        return true;\n    if (Array.isArray(value))\n        return value.some(hasUploadableValue);\n    if (value && typeof value === 'object') {\n        for (const k in value) {\n            if (hasUploadableValue(value[k]))\n                return true;\n        }\n    }\n    return false;\n};\nconst addFormValue = async (form, key, value) => {\n    if (value === undefined)\n        return;\n    if (value == null) {\n        throw new TypeError(`Received null for \"${key}\"; to pass null in FormData, you must use the string 'null'`);\n    }\n    // TODO: make nested formats configurable\n    if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\n        form.append(key, String(value));\n    }\n    else if (isUploadable(value)) {\n        const file = await toFile(value);\n        form.append(key, file);\n    }\n    else if (Array.isArray(value)) {\n        await Promise.all(value.map((entry) => addFormValue(form, key + '[]', entry)));\n    }\n    else if (typeof value === 'object') {\n        await Promise.all(Object.entries(value).map(([name, prop]) => addFormValue(form, `${key}[${name}]`, prop)));\n    }\n    else {\n        throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${value} instead`);\n    }\n};\n//# sourceMappingURL=uploads.mjs.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _AbstractPage_client;\nimport { VERSION } from \"./version.mjs\";\nimport { Stream } from \"./streaming.mjs\";\nimport { OpenAIError, APIError, APIConnectionError, APIConnectionTimeoutError, APIUserAbortError, } from \"./error.mjs\";\nimport { kind as shimsKind, getDefaultAgent, fetch, } from \"./_shims/index.mjs\";\nimport { isMultipartBody } from \"./uploads.mjs\";\nexport { maybeMultipartFormRequestOptions, multipartFormRequestOptions, createForm, } from \"./uploads.mjs\";\nasync function defaultParseResponse(props) {\n    const { response } = props;\n    if (props.options.stream) {\n        debug('response', response.status, response.url, response.headers, response.body);\n        // Note: there is an invariant here that isn't represented in the type system\n        // that if you set `stream: true` the response type must also be `Stream<T>`\n        return Stream.fromSSEResponse(response, props.controller);\n    }\n    // fetch refuses to read the body when the status code is 204.\n    if (response.status === 204) {\n        return null;\n    }\n    if (props.options.__binaryResponse) {\n        return response;\n    }\n    const contentType = response.headers.get('content-type');\n    if (contentType?.includes('application/json')) {\n        const json = await response.json();\n        debug('response', response.status, response.url, response.headers, json);\n        return json;\n    }\n    const text = await response.text();\n    debug('response', response.status, response.url, response.headers, text);\n    // TODO handle blob, arraybuffer, other content types, etc.\n    return text;\n}\n/**\n * A subclass of `Promise` providing additional helper methods\n * for interacting with the SDK.\n */\nexport class APIPromise extends Promise {\n    constructor(responsePromise, parseResponse = defaultParseResponse) {\n        super((resolve) => {\n            // this is maybe a bit weird but this has to be a no-op to not implicitly\n            // parse the response body; instead .then, .catch, .finally are overridden\n            // to parse the response\n            resolve(null);\n        });\n        this.responsePromise = responsePromise;\n        this.parseResponse = parseResponse;\n    }\n    _thenUnwrap(transform) {\n        return new APIPromise(this.responsePromise, async (props) => transform(await this.parseResponse(props)));\n    }\n    /**\n     * Gets the raw `Response` instance instead of parsing the response\n     * data.\n     *\n     * If you want to parse the response body but still get the `Response`\n     * instance, you can use {@link withResponse()}.\n     *\n     * 👋 Getting the wrong TypeScript type for `Response`?\n     * Try setting `\"moduleResolution\": \"NodeNext\"` if you can,\n     * or add one of these imports before your first `import … from 'openai'`:\n     * - `import 'openai/shims/node'` (if you're running on Node)\n     * - `import 'openai/shims/web'` (otherwise)\n     */\n    asResponse() {\n        return this.responsePromise.then((p) => p.response);\n    }\n    /**\n     * Gets the parsed response data and the raw `Response` instance.\n     *\n     * If you just want to get the raw `Response` instance without parsing it,\n     * you can use {@link asResponse()}.\n     *\n     *\n     * 👋 Getting the wrong TypeScript type for `Response`?\n     * Try setting `\"moduleResolution\": \"NodeNext\"` if you can,\n     * or add one of these imports before your first `import … from 'openai'`:\n     * - `import 'openai/shims/node'` (if you're running on Node)\n     * - `import 'openai/shims/web'` (otherwise)\n     */\n    async withResponse() {\n        const [data, response] = await Promise.all([this.parse(), this.asResponse()]);\n        return { data, response };\n    }\n    parse() {\n        if (!this.parsedPromise) {\n            this.parsedPromise = this.responsePromise.then(this.parseResponse);\n        }\n        return this.parsedPromise;\n    }\n    then(onfulfilled, onrejected) {\n        return this.parse().then(onfulfilled, onrejected);\n    }\n    catch(onrejected) {\n        return this.parse().catch(onrejected);\n    }\n    finally(onfinally) {\n        return this.parse().finally(onfinally);\n    }\n}\nexport class APIClient {\n    constructor({ baseURL, maxRetries = 2, timeout = 600000, // 10 minutes\n    httpAgent, fetch: overridenFetch, }) {\n        this.baseURL = baseURL;\n        this.maxRetries = validatePositiveInteger('maxRetries', maxRetries);\n        this.timeout = validatePositiveInteger('timeout', timeout);\n        this.httpAgent = httpAgent;\n        this.fetch = overridenFetch ?? fetch;\n    }\n    authHeaders(opts) {\n        return {};\n    }\n    /**\n     * Override this to add your own default headers, for example:\n     *\n     *  {\n     *    ...super.defaultHeaders(),\n     *    Authorization: 'Bearer 123',\n     *  }\n     */\n    defaultHeaders(opts) {\n        return {\n            Accept: 'application/json',\n            'Content-Type': 'application/json',\n            'User-Agent': this.getUserAgent(),\n            ...getPlatformHeaders(),\n            ...this.authHeaders(opts),\n        };\n    }\n    /**\n     * Override this to add your own headers validation:\n     */\n    validateHeaders(headers, customHeaders) { }\n    defaultIdempotencyKey() {\n        return `stainless-node-retry-${uuid4()}`;\n    }\n    get(path, opts) {\n        return this.methodRequest('get', path, opts);\n    }\n    post(path, opts) {\n        return this.methodRequest('post', path, opts);\n    }\n    patch(path, opts) {\n        return this.methodRequest('patch', path, opts);\n    }\n    put(path, opts) {\n        return this.methodRequest('put', path, opts);\n    }\n    delete(path, opts) {\n        return this.methodRequest('delete', path, opts);\n    }\n    methodRequest(method, path, opts) {\n        return this.request(Promise.resolve(opts).then((opts) => ({ method, path, ...opts })));\n    }\n    getAPIList(path, Page, opts) {\n        return this.requestAPIList(Page, { method: 'get', path, ...opts });\n    }\n    calculateContentLength(body) {\n        if (typeof body === 'string') {\n            if (typeof Buffer !== 'undefined') {\n                return Buffer.byteLength(body, 'utf8').toString();\n            }\n            if (typeof TextEncoder !== 'undefined') {\n                const encoder = new TextEncoder();\n                const encoded = encoder.encode(body);\n                return encoded.length.toString();\n            }\n        }\n        return null;\n    }\n    buildRequest(options) {\n        const { method, path, query, headers: headers = {} } = options;\n        const body = isMultipartBody(options.body) ? options.body.body\n            : options.body ? JSON.stringify(options.body, null, 2)\n                : null;\n        const contentLength = this.calculateContentLength(body);\n        const url = this.buildURL(path, query);\n        if ('timeout' in options)\n            validatePositiveInteger('timeout', options.timeout);\n        const timeout = options.timeout ?? this.timeout;\n        const httpAgent = options.httpAgent ?? this.httpAgent ?? getDefaultAgent(url);\n        const minAgentTimeout = timeout + 1000;\n        if (typeof httpAgent?.options?.timeout === 'number' &&\n            minAgentTimeout > (httpAgent.options.timeout ?? 0)) {\n            // Allow any given request to bump our agent active socket timeout.\n            // This may seem strange, but leaking active sockets should be rare and not particularly problematic,\n            // and without mutating agent we would need to create more of them.\n            // This tradeoff optimizes for performance.\n            httpAgent.options.timeout = minAgentTimeout;\n        }\n        if (this.idempotencyHeader && method !== 'get') {\n            if (!options.idempotencyKey)\n                options.idempotencyKey = this.defaultIdempotencyKey();\n            headers[this.idempotencyHeader] = options.idempotencyKey;\n        }\n        const reqHeaders = {\n            ...(contentLength && { 'Content-Length': contentLength }),\n            ...this.defaultHeaders(options),\n            ...headers,\n        };\n        // let builtin fetch set the Content-Type for multipart bodies\n        if (isMultipartBody(options.body) && shimsKind !== 'node') {\n            delete reqHeaders['Content-Type'];\n        }\n        // Strip any headers being explicitly omitted with null\n        Object.keys(reqHeaders).forEach((key) => reqHeaders[key] === null && delete reqHeaders[key]);\n        const req = {\n            method,\n            ...(body && { body: body }),\n            headers: reqHeaders,\n            ...(httpAgent && { agent: httpAgent }),\n            // @ts-ignore node-fetch uses a custom AbortSignal type that is\n            // not compatible with standard web types\n            signal: options.signal ?? null,\n        };\n        this.validateHeaders(reqHeaders, headers);\n        return { req, url, timeout };\n    }\n    /**\n     * Used as a callback for mutating the given `RequestInit` object.\n     *\n     * This is useful for cases where you want to add certain headers based off of\n     * the request properties, e.g. `method` or `url`.\n     */\n    async prepareRequest(request, { url, options }) { }\n    parseHeaders(headers) {\n        return (!headers ? {}\n            : Symbol.iterator in headers ?\n                Object.fromEntries(Array.from(headers).map((header) => [...header]))\n                : { ...headers });\n    }\n    makeStatusError(status, error, message, headers) {\n        return APIError.generate(status, error, message, headers);\n    }\n    request(options, remainingRetries = null) {\n        return new APIPromise(this.makeRequest(options, remainingRetries));\n    }\n    async makeRequest(optionsInput, retriesRemaining) {\n        const options = await optionsInput;\n        if (retriesRemaining == null) {\n            retriesRemaining = options.maxRetries ?? this.maxRetries;\n        }\n        const { req, url, timeout } = this.buildRequest(options);\n        await this.prepareRequest(req, { url, options });\n        debug('request', url, options, req.headers);\n        if (options.signal?.aborted) {\n            throw new APIUserAbortError();\n        }\n        const controller = new AbortController();\n        const response = await this.fetchWithTimeout(url, req, timeout, controller).catch(castToError);\n        if (response instanceof Error) {\n            if (options.signal?.aborted) {\n                throw new APIUserAbortError();\n            }\n            if (retriesRemaining) {\n                return this.retryRequest(options, retriesRemaining);\n            }\n            if (response.name === 'AbortError') {\n                throw new APIConnectionTimeoutError();\n            }\n            throw new APIConnectionError({ cause: response });\n        }\n        const responseHeaders = createResponseHeaders(response.headers);\n        if (!response.ok) {\n            if (retriesRemaining && this.shouldRetry(response)) {\n                return this.retryRequest(options, retriesRemaining, responseHeaders);\n            }\n            const errText = await response.text().catch((e) => castToError(e).message);\n            const errJSON = safeJSON(errText);\n            const errMessage = errJSON ? undefined : errText;\n            debug('response', response.status, url, responseHeaders, errMessage);\n            const err = this.makeStatusError(response.status, errJSON, errMessage, responseHeaders);\n            throw err;\n        }\n        return { response, options, controller };\n    }\n    requestAPIList(Page, options) {\n        const request = this.makeRequest(options, null);\n        return new PagePromise(this, request, Page);\n    }\n    buildURL(path, query) {\n        const url = isAbsoluteURL(path) ?\n            new URL(path)\n            : new URL(this.baseURL + (this.baseURL.endsWith('/') && path.startsWith('/') ? path.slice(1) : path));\n        const defaultQuery = this.defaultQuery();\n        if (!isEmptyObj(defaultQuery)) {\n            query = { ...defaultQuery, ...query };\n        }\n        if (query) {\n            url.search = this.stringifyQuery(query);\n        }\n        return url.toString();\n    }\n    stringifyQuery(query) {\n        return Object.entries(query)\n            .filter(([_, value]) => typeof value !== 'undefined')\n            .map(([key, value]) => {\n            if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\n                return `${encodeURIComponent(key)}=${encodeURIComponent(value)}`;\n            }\n            if (value === null) {\n                return `${encodeURIComponent(key)}=`;\n            }\n            throw new OpenAIError(`Cannot stringify type ${typeof value}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`);\n        })\n            .join('&');\n    }\n    async fetchWithTimeout(url, init, ms, controller) {\n        const { signal, ...options } = init || {};\n        if (signal)\n            signal.addEventListener('abort', () => controller.abort());\n        const timeout = setTimeout(() => controller.abort(), ms);\n        return (this.getRequestClient()\n            // use undefined this binding; fetch errors if bound to something else in browser/cloudflare\n            .fetch.call(undefined, url, { signal: controller.signal, ...options })\n            .finally(() => {\n            clearTimeout(timeout);\n        }));\n    }\n    getRequestClient() {\n        return { fetch: this.fetch };\n    }\n    shouldRetry(response) {\n        // Note this is not a standard header.\n        const shouldRetryHeader = response.headers.get('x-should-retry');\n        // If the server explicitly says whether or not to retry, obey.\n        if (shouldRetryHeader === 'true')\n            return true;\n        if (shouldRetryHeader === 'false')\n            return false;\n        // Retry on request timeouts.\n        if (response.status === 408)\n            return true;\n        // Retry on lock timeouts.\n        if (response.status === 409)\n            return true;\n        // Retry on rate limits.\n        if (response.status === 429)\n            return true;\n        // Retry internal errors.\n        if (response.status >= 500)\n            return true;\n        return false;\n    }\n    async retryRequest(options, retriesRemaining, responseHeaders) {\n        // About the Retry-After header: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After\n        let timeoutMillis;\n        const retryAfterHeader = responseHeaders?.['retry-after'];\n        if (retryAfterHeader) {\n            const timeoutSeconds = parseInt(retryAfterHeader);\n            if (!Number.isNaN(timeoutSeconds)) {\n                timeoutMillis = timeoutSeconds * 1000;\n            }\n            else {\n                timeoutMillis = Date.parse(retryAfterHeader) - Date.now();\n            }\n        }\n        // If the API asks us to wait a certain amount of time (and it's a reasonable amount),\n        // just do what it says, but otherwise calculate a default\n        if (!timeoutMillis ||\n            !Number.isInteger(timeoutMillis) ||\n            timeoutMillis <= 0 ||\n            timeoutMillis > 60 * 1000) {\n            const maxRetries = options.maxRetries ?? this.maxRetries;\n            timeoutMillis = this.calculateDefaultRetryTimeoutMillis(retriesRemaining, maxRetries);\n        }\n        await sleep(timeoutMillis);\n        return this.makeRequest(options, retriesRemaining - 1);\n    }\n    calculateDefaultRetryTimeoutMillis(retriesRemaining, maxRetries) {\n        const initialRetryDelay = 0.5;\n        const maxRetryDelay = 8.0;\n        const numRetries = maxRetries - retriesRemaining;\n        // Apply exponential backoff, but not more than the max.\n        const sleepSeconds = Math.min(initialRetryDelay * Math.pow(2, numRetries), maxRetryDelay);\n        // Apply some jitter, take up to at most 25 percent of the retry time.\n        const jitter = 1 - Math.random() * 0.25;\n        return sleepSeconds * jitter * 1000;\n    }\n    getUserAgent() {\n        return `${this.constructor.name}/JS ${VERSION}`;\n    }\n}\nexport class APIResource {\n    constructor(client) {\n        this.client = client;\n        this.get = client.get.bind(client);\n        this.post = client.post.bind(client);\n        this.patch = client.patch.bind(client);\n        this.put = client.put.bind(client);\n        this.delete = client.delete.bind(client);\n        this.getAPIList = client.getAPIList.bind(client);\n    }\n}\nexport class AbstractPage {\n    constructor(client, response, body, options) {\n        _AbstractPage_client.set(this, void 0);\n        __classPrivateFieldSet(this, _AbstractPage_client, client, \"f\");\n        this.options = options;\n        this.response = response;\n        this.body = body;\n    }\n    hasNextPage() {\n        const items = this.getPaginatedItems();\n        if (!items.length)\n            return false;\n        return this.nextPageInfo() != null;\n    }\n    async getNextPage() {\n        const nextInfo = this.nextPageInfo();\n        if (!nextInfo) {\n            throw new OpenAIError('No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.');\n        }\n        const nextOptions = { ...this.options };\n        if ('params' in nextInfo) {\n            nextOptions.query = { ...nextOptions.query, ...nextInfo.params };\n        }\n        else if ('url' in nextInfo) {\n            const params = [...Object.entries(nextOptions.query || {}), ...nextInfo.url.searchParams.entries()];\n            for (const [key, value] of params) {\n                nextInfo.url.searchParams.set(key, value);\n            }\n            nextOptions.query = undefined;\n            nextOptions.path = nextInfo.url.toString();\n        }\n        return await __classPrivateFieldGet(this, _AbstractPage_client, \"f\").requestAPIList(this.constructor, nextOptions);\n    }\n    async *iterPages() {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        let page = this;\n        yield page;\n        while (page.hasNextPage()) {\n            page = await page.getNextPage();\n            yield page;\n        }\n    }\n    async *[(_AbstractPage_client = new WeakMap(), Symbol.asyncIterator)]() {\n        for await (const page of this.iterPages()) {\n            for (const item of page.getPaginatedItems()) {\n                yield item;\n            }\n        }\n    }\n}\n/**\n * This subclass of Promise will resolve to an instantiated Page once the request completes.\n *\n * It also implements AsyncIterable to allow auto-paginating iteration on an unawaited list call, eg:\n *\n *    for await (const item of client.items.list()) {\n *      console.log(item)\n *    }\n */\nexport class PagePromise extends APIPromise {\n    constructor(client, request, Page) {\n        super(request, async (props) => new Page(client, props.response, await defaultParseResponse(props), props.options));\n    }\n    /**\n     * Allow auto-paginating iteration on an unawaited list call, eg:\n     *\n     *    for await (const item of client.items.list()) {\n     *      console.log(item)\n     *    }\n     */\n    async *[Symbol.asyncIterator]() {\n        const page = await this;\n        for await (const item of page) {\n            yield item;\n        }\n    }\n}\nexport const createResponseHeaders = (headers) => {\n    return new Proxy(Object.fromEntries(\n    // @ts-ignore\n    headers.entries()), {\n        get(target, name) {\n            const key = name.toString();\n            return target[key.toLowerCase()] || target[key];\n        },\n    });\n};\n// This is required so that we can determine if a given object matches the RequestOptions\n// type at runtime. While this requires duplication, it is enforced by the TypeScript\n// compiler such that any missing / extraneous keys will cause an error.\nconst requestOptionsKeys = {\n    method: true,\n    path: true,\n    query: true,\n    body: true,\n    headers: true,\n    maxRetries: true,\n    stream: true,\n    timeout: true,\n    httpAgent: true,\n    signal: true,\n    idempotencyKey: true,\n    __binaryResponse: true,\n};\nexport const isRequestOptions = (obj) => {\n    return (typeof obj === 'object' &&\n        obj !== null &&\n        !isEmptyObj(obj) &&\n        Object.keys(obj).every((k) => hasOwn(requestOptionsKeys, k)));\n};\nconst getPlatformProperties = () => {\n    if (typeof Deno !== 'undefined' && Deno.build != null) {\n        return {\n            'X-Stainless-Lang': 'js',\n            'X-Stainless-Package-Version': VERSION,\n            'X-Stainless-OS': normalizePlatform(Deno.build.os),\n            'X-Stainless-Arch': normalizeArch(Deno.build.arch),\n            'X-Stainless-Runtime': 'deno',\n            'X-Stainless-Runtime-Version': Deno.version,\n        };\n    }\n    if (typeof EdgeRuntime !== 'undefined') {\n        return {\n            'X-Stainless-Lang': 'js',\n            'X-Stainless-Package-Version': VERSION,\n            'X-Stainless-OS': 'Unknown',\n            'X-Stainless-Arch': `other:${EdgeRuntime}`,\n            'X-Stainless-Runtime': 'edge',\n            'X-Stainless-Runtime-Version': process.version,\n        };\n    }\n    // Check if Node.js\n    if (Object.prototype.toString.call(typeof process !== 'undefined' ? process : 0) === '[object process]') {\n        return {\n            'X-Stainless-Lang': 'js',\n            'X-Stainless-Package-Version': VERSION,\n            'X-Stainless-OS': normalizePlatform(process.platform),\n            'X-Stainless-Arch': normalizeArch(process.arch),\n            'X-Stainless-Runtime': 'node',\n            'X-Stainless-Runtime-Version': process.version,\n        };\n    }\n    const browserInfo = getBrowserInfo();\n    if (browserInfo) {\n        return {\n            'X-Stainless-Lang': 'js',\n            'X-Stainless-Package-Version': VERSION,\n            'X-Stainless-OS': 'Unknown',\n            'X-Stainless-Arch': 'unknown',\n            'X-Stainless-Runtime': `browser:${browserInfo.browser}`,\n            'X-Stainless-Runtime-Version': browserInfo.version,\n        };\n    }\n    // TODO add support for Cloudflare workers, etc.\n    return {\n        'X-Stainless-Lang': 'js',\n        'X-Stainless-Package-Version': VERSION,\n        'X-Stainless-OS': 'Unknown',\n        'X-Stainless-Arch': 'unknown',\n        'X-Stainless-Runtime': 'unknown',\n        'X-Stainless-Runtime-Version': 'unknown',\n    };\n};\n// Note: modified from https://github.com/JS-DevTools/host-environment/blob/b1ab79ecde37db5d6e163c050e54fe7d287d7c92/src/isomorphic.browser.ts\nfunction getBrowserInfo() {\n    if (typeof navigator === 'undefined' || !navigator) {\n        return null;\n    }\n    // NOTE: The order matters here!\n    const browserPatterns = [\n        { key: 'edge', pattern: /Edge(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/ },\n        { key: 'ie', pattern: /MSIE(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/ },\n        { key: 'ie', pattern: /Trident(?:.*rv\\:(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/ },\n        { key: 'chrome', pattern: /Chrome(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/ },\n        { key: 'firefox', pattern: /Firefox(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/ },\n        { key: 'safari', pattern: /(?:Version\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?(?:\\W+Mobile\\S*)?\\W+Safari/ },\n    ];\n    // Find the FIRST matching browser\n    for (const { key, pattern } of browserPatterns) {\n        const match = pattern.exec(navigator.userAgent);\n        if (match) {\n            const major = match[1] || 0;\n            const minor = match[2] || 0;\n            const patch = match[3] || 0;\n            return { browser: key, version: `${major}.${minor}.${patch}` };\n        }\n    }\n    return null;\n}\nconst normalizeArch = (arch) => {\n    // Node docs:\n    // - https://nodejs.org/api/process.html#processarch\n    // Deno docs:\n    // - https://doc.deno.land/deno/stable/~/Deno.build\n    if (arch === 'x32')\n        return 'x32';\n    if (arch === 'x86_64' || arch === 'x64')\n        return 'x64';\n    if (arch === 'arm')\n        return 'arm';\n    if (arch === 'aarch64' || arch === 'arm64')\n        return 'arm64';\n    if (arch)\n        return `other:${arch}`;\n    return 'unknown';\n};\nconst normalizePlatform = (platform) => {\n    // Node platforms:\n    // - https://nodejs.org/api/process.html#processplatform\n    // Deno platforms:\n    // - https://doc.deno.land/deno/stable/~/Deno.build\n    // - https://github.com/denoland/deno/issues/14799\n    platform = platform.toLowerCase();\n    // NOTE: this iOS check is untested and may not work\n    // Node does not work natively on IOS, there is a fork at\n    // https://github.com/nodejs-mobile/nodejs-mobile\n    // however it is unknown at the time of writing how to detect if it is running\n    if (platform.includes('ios'))\n        return 'iOS';\n    if (platform === 'android')\n        return 'Android';\n    if (platform === 'darwin')\n        return 'MacOS';\n    if (platform === 'win32')\n        return 'Windows';\n    if (platform === 'freebsd')\n        return 'FreeBSD';\n    if (platform === 'openbsd')\n        return 'OpenBSD';\n    if (platform === 'linux')\n        return 'Linux';\n    if (platform)\n        return `Other:${platform}`;\n    return 'Unknown';\n};\nlet _platformHeaders;\nconst getPlatformHeaders = () => {\n    return (_platformHeaders ?? (_platformHeaders = getPlatformProperties()));\n};\nexport const safeJSON = (text) => {\n    try {\n        return JSON.parse(text);\n    }\n    catch (err) {\n        return undefined;\n    }\n};\n// https://stackoverflow.com/a/19709846\nconst startsWithSchemeRegexp = new RegExp('^(?:[a-z]+:)?//', 'i');\nconst isAbsoluteURL = (url) => {\n    return startsWithSchemeRegexp.test(url);\n};\nexport const sleep = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\nconst validatePositiveInteger = (name, n) => {\n    if (typeof n !== 'number' || !Number.isInteger(n)) {\n        throw new OpenAIError(`${name} must be an integer`);\n    }\n    if (n < 0) {\n        throw new OpenAIError(`${name} must be a positive integer`);\n    }\n    return n;\n};\nexport const castToError = (err) => {\n    if (err instanceof Error)\n        return err;\n    return new Error(err);\n};\nexport const ensurePresent = (value) => {\n    if (value == null)\n        throw new OpenAIError(`Expected a value to be given but received ${value} instead.`);\n    return value;\n};\n/**\n * Read an environment variable.\n *\n * Will return undefined if the environment variable doesn't exist or cannot be accessed.\n */\nexport const readEnv = (env) => {\n    if (typeof process !== 'undefined') {\n        return process.env?.[env] ?? undefined;\n    }\n    if (typeof Deno !== 'undefined') {\n        return Deno.env?.get?.(env);\n    }\n    return undefined;\n};\nexport const coerceInteger = (value) => {\n    if (typeof value === 'number')\n        return Math.round(value);\n    if (typeof value === 'string')\n        return parseInt(value, 10);\n    throw new OpenAIError(`Could not coerce ${value} (type: ${typeof value}) into a number`);\n};\nexport const coerceFloat = (value) => {\n    if (typeof value === 'number')\n        return value;\n    if (typeof value === 'string')\n        return parseFloat(value);\n    throw new OpenAIError(`Could not coerce ${value} (type: ${typeof value}) into a number`);\n};\nexport const coerceBoolean = (value) => {\n    if (typeof value === 'boolean')\n        return value;\n    if (typeof value === 'string')\n        return value === 'true';\n    return Boolean(value);\n};\nexport const maybeCoerceInteger = (value) => {\n    if (value === undefined) {\n        return undefined;\n    }\n    return coerceInteger(value);\n};\nexport const maybeCoerceFloat = (value) => {\n    if (value === undefined) {\n        return undefined;\n    }\n    return coerceFloat(value);\n};\nexport const maybeCoerceBoolean = (value) => {\n    if (value === undefined) {\n        return undefined;\n    }\n    return coerceBoolean(value);\n};\n// https://stackoverflow.com/a/34491287\nexport function isEmptyObj(obj) {\n    if (!obj)\n        return true;\n    for (const _k in obj)\n        return false;\n    return true;\n}\n// https://eslint.org/docs/latest/rules/no-prototype-builtins\nexport function hasOwn(obj, key) {\n    return Object.prototype.hasOwnProperty.call(obj, key);\n}\nexport function debug(action, ...args) {\n    if (typeof process !== 'undefined' && process.env['DEBUG'] === 'true') {\n        console.log(`OpenAI:DEBUG:${action}`, ...args);\n    }\n}\n/**\n * https://stackoverflow.com/a/2117523\n */\nconst uuid4 = () => {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n        const r = (Math.random() * 16) | 0;\n        const v = c === 'x' ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n};\nexport const isRunningInBrowser = () => {\n    return (\n    // @ts-ignore\n    typeof window !== 'undefined' &&\n        // @ts-ignore\n        typeof window.document !== 'undefined' &&\n        // @ts-ignore\n        typeof navigator !== 'undefined');\n};\nexport const isHeadersProtocol = (headers) => {\n    return typeof headers?.get === 'function';\n};\nexport const getRequiredHeader = (headers, header) => {\n    const lowerCasedHeader = header.toLowerCase();\n    if (isHeadersProtocol(headers)) {\n        // to deal with the case where the header looks like Stainless-Event-Id\n        const intercapsHeader = header[0]?.toUpperCase() +\n            header.substring(1).replace(/([^\\w])(\\w)/g, (_m, g1, g2) => g1 + g2.toUpperCase());\n        for (const key of [header, lowerCasedHeader, header.toUpperCase(), intercapsHeader]) {\n            const value = headers.get(key);\n            if (value) {\n                return value;\n            }\n        }\n    }\n    for (const [key, value] of Object.entries(headers)) {\n        if (key.toLowerCase() === lowerCasedHeader) {\n            if (Array.isArray(value)) {\n                if (value.length <= 1)\n                    return value[0];\n                console.warn(`Received ${value.length} entries for the ${header} header, using the first entry.`);\n                return value[0];\n            }\n            return value;\n        }\n    }\n    throw new Error(`Could not find ${header} header`);\n};\n/**\n * Encodes a string to Base64 format.\n */\nexport const toBase64 = (str) => {\n    if (!str)\n        return '';\n    if (typeof Buffer !== 'undefined') {\n        return Buffer.from(str).toString('base64');\n    }\n    if (typeof btoa !== 'undefined') {\n        return btoa(str);\n    }\n    throw new OpenAIError('Cannot generate b64 string; Expected `Buffer` or `btoa` to be defined');\n};\n//# sourceMappingURL=core.mjs.map","// File generated from our OpenAPI spec by Stainless.\nimport { AbstractPage } from \"./core.mjs\";\n/**\n * Note: no pagination actually occurs yet, this is for forwards-compatibility.\n */\nexport class Page extends AbstractPage {\n    constructor(client, response, body, options) {\n        super(client, response, body, options);\n        this.data = body.data;\n        this.object = body.object;\n    }\n    getPaginatedItems() {\n        return this.data;\n    }\n    // @deprecated Please use `nextPageInfo()` instead\n    /**\n     * This page represents a response that isn't actually paginated at the API level\n     * so there will never be any next page params.\n     */\n    nextPageParams() {\n        return null;\n    }\n    nextPageInfo() {\n        return null;\n    }\n}\nexport class CursorPage extends AbstractPage {\n    constructor(client, response, body, options) {\n        super(client, response, body, options);\n        this.data = body.data;\n    }\n    getPaginatedItems() {\n        return this.data;\n    }\n    // @deprecated Please use `nextPageInfo()` instead\n    nextPageParams() {\n        const info = this.nextPageInfo();\n        if (!info)\n            return null;\n        if ('params' in info)\n            return info.params;\n        const params = Object.fromEntries(info.url.searchParams);\n        if (!Object.keys(params).length)\n            return null;\n        return params;\n    }\n    nextPageInfo() {\n        if (!this.data?.length) {\n            return null;\n        }\n        const next = this.data[this.data.length - 1]?.id;\n        if (!next)\n            return null;\n        return { params: { after: next } };\n    }\n}\n//# sourceMappingURL=pagination.mjs.map","// File generated from our OpenAPI spec by Stainless.\nexport class APIResource {\n    constructor(client) {\n        this.client = client;\n        this.get = client.get.bind(client);\n        this.post = client.post.bind(client);\n        this.patch = client.patch.bind(client);\n        this.put = client.put.bind(client);\n        this.delete = client.delete.bind(client);\n        this.getAPIList = client.getAPIList.bind(client);\n    }\n}\n//# sourceMappingURL=resource.mjs.map","// File generated from our OpenAPI spec by Stainless.\nimport { APIResource } from 'openai/resource';\nexport class Completions extends APIResource {\n    create(body, options) {\n        return this.post('/completions', { body, ...options, stream: body.stream ?? false });\n    }\n}\n(function (Completions) {\n})(Completions || (Completions = {}));\n//# sourceMappingURL=completions.mjs.map","// File generated from our OpenAPI spec by Stainless.\nimport { APIResource } from 'openai/resource';\nexport class Completions extends APIResource {\n    create(body, options) {\n        return this.post('/chat/completions', { body, ...options, stream: body.stream ?? false });\n    }\n}\n(function (Completions) {\n})(Completions || (Completions = {}));\n//# sourceMappingURL=completions.mjs.map","// File generated from our OpenAPI spec by Stainless.\nimport { APIResource } from 'openai/resource';\nimport * as CompletionsAPI from 'openai/resources/chat/completions';\nexport class Chat extends APIResource {\n    constructor() {\n        super(...arguments);\n        this.completions = new CompletionsAPI.Completions(this.client);\n    }\n}\n(function (Chat) {\n    Chat.Completions = CompletionsAPI.Completions;\n})(Chat || (Chat = {}));\n//# sourceMappingURL=chat.mjs.map","// File generated from our OpenAPI spec by Stainless.\nimport { APIResource } from 'openai/resource';\nexport class Edits extends APIResource {\n    /**\n     * Creates a new edit for the provided input, instruction, and parameters.\n     *\n     * @deprecated The Edits API is deprecated; please use Chat Completions instead.\n     *\n     * https://openai.com/blog/gpt-4-api-general-availability#deprecation-of-the-edits-api\n     */\n    create(body, options) {\n        return this.post('/edits', { body, ...options });\n    }\n}\n(function (Edits) {\n})(Edits || (Edits = {}));\n//# sourceMappingURL=edits.mjs.map","// File generated from our OpenAPI spec by Stainless.\nimport { APIResource } from 'openai/resource';\nexport class Embeddings extends APIResource {\n    /**\n     * Creates an embedding vector representing the input text.\n     */\n    create(body, options) {\n        return this.post('/embeddings', { body, ...options });\n    }\n}\n(function (Embeddings) {\n})(Embeddings || (Embeddings = {}));\n//# sourceMappingURL=embeddings.mjs.map","// File generated from our OpenAPI spec by Stainless.\nimport { APIResource } from 'openai/resource';\nimport { isRequestOptions } from 'openai/core';\nimport { sleep } from 'openai/core';\nimport { APIConnectionTimeoutError } from 'openai/error';\nimport * as FilesAPI from 'openai/resources/files';\nimport { multipartFormRequestOptions } from 'openai/core';\nimport { Page } from 'openai/pagination';\nexport class Files extends APIResource {\n    /**\n     * Upload a file that can be used across various endpoints/features. The size of\n     * all the files uploaded by one organization can be up to 100 GB.\n     *\n     * The size of individual files for can be a maximum of 512MB. See the\n     * [Assistants Tools guide](https://platform.openai.com/docs/assistants/tools) to\n     * learn more about the types of files supported. The Fine-tuning API only supports\n     * `.jsonl` files.\n     *\n     * Please [contact us](https://help.openai.com/) if you need to increase these\n     * storage limits.\n     */\n    create(body, options) {\n        return this.post('/files', multipartFormRequestOptions({ body, ...options }));\n    }\n    /**\n     * Returns information about a specific file.\n     */\n    retrieve(fileId, options) {\n        return this.get(`/files/${fileId}`, options);\n    }\n    list(query = {}, options) {\n        if (isRequestOptions(query)) {\n            return this.list({}, query);\n        }\n        return this.getAPIList('/files', FileObjectsPage, { query, ...options });\n    }\n    /**\n     * Delete a file.\n     */\n    del(fileId, options) {\n        return this.delete(`/files/${fileId}`, options);\n    }\n    /**\n     * Returns the contents of the specified file.\n     */\n    content(fileId, options) {\n        return this.get(`/files/${fileId}/content`, { ...options, __binaryResponse: true });\n    }\n    /**\n     * Returns the contents of the specified file.\n     *\n     * @deprecated The `.content()` method should be used instead\n     */\n    retrieveContent(fileId, options) {\n        return this.get(`/files/${fileId}/content`, {\n            ...options,\n            headers: { Accept: 'application/json', ...options?.headers },\n        });\n    }\n    /**\n     * Waits for the given file to be processed, default timeout is 30 mins.\n     */\n    async waitForProcessing(id, { pollInterval = 5000, maxWait = 30 * 60 * 1000 } = {}) {\n        const TERMINAL_STATES = new Set(['processed', 'error', 'deleted']);\n        const start = Date.now();\n        let file = await this.retrieve(id);\n        while (!file.status || !TERMINAL_STATES.has(file.status)) {\n            await sleep(pollInterval);\n            file = await this.retrieve(id);\n            if (Date.now() - start > maxWait) {\n                throw new APIConnectionTimeoutError({\n                    message: `Giving up on waiting for file ${id} to finish processing after ${maxWait} milliseconds.`,\n                });\n            }\n        }\n        return file;\n    }\n}\n/**\n * Note: no pagination actually occurs yet, this is for forwards-compatibility.\n */\nexport class FileObjectsPage extends Page {\n}\n(function (Files) {\n    Files.FileObjectsPage = FilesAPI.FileObjectsPage;\n})(Files || (Files = {}));\n//# sourceMappingURL=files.mjs.map","// File generated from our OpenAPI spec by Stainless.\nimport { APIResource } from 'openai/resource';\nimport { multipartFormRequestOptions } from 'openai/core';\nexport class Images extends APIResource {\n    /**\n     * Creates a variation of a given image.\n     */\n    createVariation(body, options) {\n        return this.post('/images/variations', multipartFormRequestOptions({ body, ...options }));\n    }\n    /**\n     * Creates an edited or extended image given an original image and a prompt.\n     */\n    edit(body, options) {\n        return this.post('/images/edits', multipartFormRequestOptions({ body, ...options }));\n    }\n    /**\n     * Creates an image given a prompt.\n     */\n    generate(body, options) {\n        return this.post('/images/generations', { body, ...options });\n    }\n}\n(function (Images) {\n})(Images || (Images = {}));\n//# sourceMappingURL=images.mjs.map","// File generated from our OpenAPI spec by Stainless.\nimport { APIResource } from 'openai/resource';\nexport class Speech extends APIResource {\n    /**\n     * Generates audio from the input text.\n     */\n    create(body, options) {\n        return this.post('/audio/speech', { body, ...options, __binaryResponse: true });\n    }\n}\n(function (Speech) {\n})(Speech || (Speech = {}));\n//# sourceMappingURL=speech.mjs.map","// File generated from our OpenAPI spec by Stainless.\nimport { APIResource } from 'openai/resource';\nimport { multipartFormRequestOptions } from 'openai/core';\nexport class Transcriptions extends APIResource {\n    /**\n     * Transcribes audio into the input language.\n     */\n    create(body, options) {\n        return this.post('/audio/transcriptions', multipartFormRequestOptions({ body, ...options }));\n    }\n}\n(function (Transcriptions) {\n})(Transcriptions || (Transcriptions = {}));\n//# sourceMappingURL=transcriptions.mjs.map","// File generated from our OpenAPI spec by Stainless.\nimport { APIResource } from 'openai/resource';\nimport { multipartFormRequestOptions } from 'openai/core';\nexport class Translations extends APIResource {\n    /**\n     * Translates audio into English.\n     */\n    create(body, options) {\n        return this.post('/audio/translations', multipartFormRequestOptions({ body, ...options }));\n    }\n}\n(function (Translations) {\n})(Translations || (Translations = {}));\n//# sourceMappingURL=translations.mjs.map","// File generated from our OpenAPI spec by Stainless.\nimport { APIResource } from 'openai/resource';\nimport * as SpeechAPI from 'openai/resources/audio/speech';\nimport * as TranscriptionsAPI from 'openai/resources/audio/transcriptions';\nimport * as TranslationsAPI from 'openai/resources/audio/translations';\nexport class Audio extends APIResource {\n    constructor() {\n        super(...arguments);\n        this.transcriptions = new TranscriptionsAPI.Transcriptions(this.client);\n        this.translations = new TranslationsAPI.Translations(this.client);\n        this.speech = new SpeechAPI.Speech(this.client);\n    }\n}\n(function (Audio) {\n    Audio.Transcriptions = TranscriptionsAPI.Transcriptions;\n    Audio.Translations = TranslationsAPI.Translations;\n    Audio.Speech = SpeechAPI.Speech;\n})(Audio || (Audio = {}));\n//# sourceMappingURL=audio.mjs.map","// File generated from our OpenAPI spec by Stainless.\nimport { APIResource } from 'openai/resource';\nexport class Moderations extends APIResource {\n    /**\n     * Classifies if text violates OpenAI's Content Policy\n     */\n    create(body, options) {\n        return this.post('/moderations', { body, ...options });\n    }\n}\n(function (Moderations) {\n})(Moderations || (Moderations = {}));\n//# sourceMappingURL=moderations.mjs.map","// File generated from our OpenAPI spec by Stainless.\nimport { APIResource } from 'openai/resource';\nimport * as ModelsAPI from 'openai/resources/models';\nimport { Page } from 'openai/pagination';\nexport class Models extends APIResource {\n    /**\n     * Retrieves a model instance, providing basic information about the model such as\n     * the owner and permissioning.\n     */\n    retrieve(model, options) {\n        return this.get(`/models/${model}`, options);\n    }\n    /**\n     * Lists the currently available models, and provides basic information about each\n     * one such as the owner and availability.\n     */\n    list(options) {\n        return this.getAPIList('/models', ModelsPage, options);\n    }\n    /**\n     * Delete a fine-tuned model. You must have the Owner role in your organization to\n     * delete a model.\n     */\n    del(model, options) {\n        return this.delete(`/models/${model}`, options);\n    }\n}\n/**\n * Note: no pagination actually occurs yet, this is for forwards-compatibility.\n */\nexport class ModelsPage extends Page {\n}\n(function (Models) {\n    Models.ModelsPage = ModelsAPI.ModelsPage;\n})(Models || (Models = {}));\n//# sourceMappingURL=models.mjs.map","// File generated from our OpenAPI spec by Stainless.\nimport { APIResource } from 'openai/resource';\nimport { isRequestOptions } from 'openai/core';\nimport * as JobsAPI from 'openai/resources/fine-tuning/jobs';\nimport { CursorPage } from 'openai/pagination';\nexport class Jobs extends APIResource {\n    /**\n     * Creates a job that fine-tunes a specified model from a given dataset.\n     *\n     * Response includes details of the enqueued job including job status and the name\n     * of the fine-tuned models once complete.\n     *\n     * [Learn more about fine-tuning](https://platform.openai.com/docs/guides/fine-tuning)\n     */\n    create(body, options) {\n        return this.post('/fine_tuning/jobs', { body, ...options });\n    }\n    /**\n     * Get info about a fine-tuning job.\n     *\n     * [Learn more about fine-tuning](https://platform.openai.com/docs/guides/fine-tuning)\n     */\n    retrieve(fineTuningJobId, options) {\n        return this.get(`/fine_tuning/jobs/${fineTuningJobId}`, options);\n    }\n    list(query = {}, options) {\n        if (isRequestOptions(query)) {\n            return this.list({}, query);\n        }\n        return this.getAPIList('/fine_tuning/jobs', FineTuningJobsPage, { query, ...options });\n    }\n    /**\n     * Immediately cancel a fine-tune job.\n     */\n    cancel(fineTuningJobId, options) {\n        return this.post(`/fine_tuning/jobs/${fineTuningJobId}/cancel`, options);\n    }\n    listEvents(fineTuningJobId, query = {}, options) {\n        if (isRequestOptions(query)) {\n            return this.listEvents(fineTuningJobId, {}, query);\n        }\n        return this.getAPIList(`/fine_tuning/jobs/${fineTuningJobId}/events`, FineTuningJobEventsPage, {\n            query,\n            ...options,\n        });\n    }\n}\nexport class FineTuningJobsPage extends CursorPage {\n}\nexport class FineTuningJobEventsPage extends CursorPage {\n}\n(function (Jobs) {\n    Jobs.FineTuningJobsPage = JobsAPI.FineTuningJobsPage;\n    Jobs.FineTuningJobEventsPage = JobsAPI.FineTuningJobEventsPage;\n})(Jobs || (Jobs = {}));\n//# sourceMappingURL=jobs.mjs.map","// File generated from our OpenAPI spec by Stainless.\nimport { APIResource } from 'openai/resource';\nimport * as JobsAPI from 'openai/resources/fine-tuning/jobs';\nexport class FineTuning extends APIResource {\n    constructor() {\n        super(...arguments);\n        this.jobs = new JobsAPI.Jobs(this.client);\n    }\n}\n(function (FineTuning) {\n    FineTuning.Jobs = JobsAPI.Jobs;\n    FineTuning.FineTuningJobsPage = JobsAPI.FineTuningJobsPage;\n    FineTuning.FineTuningJobEventsPage = JobsAPI.FineTuningJobEventsPage;\n})(FineTuning || (FineTuning = {}));\n//# sourceMappingURL=fine-tuning.mjs.map","// File generated from our OpenAPI spec by Stainless.\nimport { APIResource } from 'openai/resource';\nimport * as FineTunesAPI from 'openai/resources/fine-tunes';\nimport { Page } from 'openai/pagination';\nexport class FineTunes extends APIResource {\n    /**\n     * Creates a job that fine-tunes a specified model from a given dataset.\n     *\n     * Response includes details of the enqueued job including job status and the name\n     * of the fine-tuned models once complete.\n     *\n     * [Learn more about fine-tuning](https://platform.openai.com/docs/guides/legacy-fine-tuning)\n     */\n    create(body, options) {\n        return this.post('/fine-tunes', { body, ...options });\n    }\n    /**\n     * Gets info about the fine-tune job.\n     *\n     * [Learn more about fine-tuning](https://platform.openai.com/docs/guides/legacy-fine-tuning)\n     */\n    retrieve(fineTuneId, options) {\n        return this.get(`/fine-tunes/${fineTuneId}`, options);\n    }\n    /**\n     * List your organization's fine-tuning jobs\n     */\n    list(options) {\n        return this.getAPIList('/fine-tunes', FineTunesPage, options);\n    }\n    /**\n     * Immediately cancel a fine-tune job.\n     */\n    cancel(fineTuneId, options) {\n        return this.post(`/fine-tunes/${fineTuneId}/cancel`, options);\n    }\n    listEvents(fineTuneId, query, options) {\n        return this.get(`/fine-tunes/${fineTuneId}/events`, {\n            query,\n            timeout: 86400000,\n            ...options,\n            stream: query?.stream ?? false,\n        });\n    }\n}\n/**\n * Note: no pagination actually occurs yet, this is for forwards-compatibility.\n */\nexport class FineTunesPage extends Page {\n}\n(function (FineTunes) {\n    FineTunes.FineTunesPage = FineTunesAPI.FineTunesPage;\n})(FineTunes || (FineTunes = {}));\n//# sourceMappingURL=fine-tunes.mjs.map","// File generated from our OpenAPI spec by Stainless.\nimport { APIResource } from 'openai/resource';\nimport { isRequestOptions } from 'openai/core';\nimport * as FilesAPI from 'openai/resources/beta/assistants/files';\nimport { CursorPage } from 'openai/pagination';\nexport class Files extends APIResource {\n    /**\n     * Create an assistant file by attaching a\n     * [File](https://platform.openai.com/docs/api-reference/files) to an\n     * [assistant](https://platform.openai.com/docs/api-reference/assistants).\n     */\n    create(assistantId, body, options) {\n        return this.post(`/assistants/${assistantId}/files`, {\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v1', ...options?.headers },\n        });\n    }\n    /**\n     * Retrieves an AssistantFile.\n     */\n    retrieve(assistantId, fileId, options) {\n        return this.get(`/assistants/${assistantId}/files/${fileId}`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v1', ...options?.headers },\n        });\n    }\n    list(assistantId, query = {}, options) {\n        if (isRequestOptions(query)) {\n            return this.list(assistantId, {}, query);\n        }\n        return this.getAPIList(`/assistants/${assistantId}/files`, AssistantFilesPage, {\n            query,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v1', ...options?.headers },\n        });\n    }\n    /**\n     * Delete an assistant file.\n     */\n    del(assistantId, fileId, options) {\n        return this.delete(`/assistants/${assistantId}/files/${fileId}`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v1', ...options?.headers },\n        });\n    }\n}\nexport class AssistantFilesPage extends CursorPage {\n}\n(function (Files) {\n    Files.AssistantFilesPage = FilesAPI.AssistantFilesPage;\n})(Files || (Files = {}));\n//# sourceMappingURL=files.mjs.map","// File generated from our OpenAPI spec by Stainless.\nimport { APIResource } from 'openai/resource';\nimport { isRequestOptions } from 'openai/core';\nimport * as AssistantsAPI from 'openai/resources/beta/assistants/assistants';\nimport * as FilesAPI from 'openai/resources/beta/assistants/files';\nimport { CursorPage } from 'openai/pagination';\nexport class Assistants extends APIResource {\n    constructor() {\n        super(...arguments);\n        this.files = new FilesAPI.Files(this.client);\n    }\n    /**\n     * Create an assistant with a model and instructions.\n     */\n    create(body, options) {\n        return this.post('/assistants', {\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v1', ...options?.headers },\n        });\n    }\n    /**\n     * Retrieves an assistant.\n     */\n    retrieve(assistantId, options) {\n        return this.get(`/assistants/${assistantId}`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v1', ...options?.headers },\n        });\n    }\n    /**\n     * Modifies an assistant.\n     */\n    update(assistantId, body, options) {\n        return this.post(`/assistants/${assistantId}`, {\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v1', ...options?.headers },\n        });\n    }\n    list(query = {}, options) {\n        if (isRequestOptions(query)) {\n            return this.list({}, query);\n        }\n        return this.getAPIList('/assistants', AssistantsPage, {\n            query,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v1', ...options?.headers },\n        });\n    }\n    /**\n     * Delete an assistant.\n     */\n    del(assistantId, options) {\n        return this.delete(`/assistants/${assistantId}`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v1', ...options?.headers },\n        });\n    }\n}\nexport class AssistantsPage extends CursorPage {\n}\n(function (Assistants) {\n    Assistants.AssistantsPage = AssistantsAPI.AssistantsPage;\n    Assistants.Files = FilesAPI.Files;\n    Assistants.AssistantFilesPage = FilesAPI.AssistantFilesPage;\n})(Assistants || (Assistants = {}));\n//# sourceMappingURL=assistants.mjs.map","export function isRunnableFunctionWithParse(fn) {\n    return typeof fn.parse === 'function';\n}\n/**\n * This is helper class for passing a `function` and `parse` where the `function`\n * argument type matches the `parse` return type.\n */\nexport class ParsingFunction {\n    constructor(input) {\n        this.function = input.function;\n        this.parse = input.parse;\n        this.parameters = input.parameters;\n        this.description = input.description;\n        this.name = input.name;\n    }\n}\n//# sourceMappingURL=RunnableFunction.mjs.map","export const isAssistantMessage = (message) => {\n    return message?.role === 'assistant';\n};\nexport const isFunctionMessage = (message) => {\n    return message?.role === 'function';\n};\nexport const isToolMessage = (message) => {\n    return message?.role === 'tool';\n};\nexport function isPresent(obj) {\n    return obj != null;\n}\n//# sourceMappingURL=chatCompletionUtils.mjs.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _AbstractChatCompletionRunner_instances, _AbstractChatCompletionRunner_connectedPromise, _AbstractChatCompletionRunner_resolveConnectedPromise, _AbstractChatCompletionRunner_rejectConnectedPromise, _AbstractChatCompletionRunner_endPromise, _AbstractChatCompletionRunner_resolveEndPromise, _AbstractChatCompletionRunner_rejectEndPromise, _AbstractChatCompletionRunner_listeners, _AbstractChatCompletionRunner_ended, _AbstractChatCompletionRunner_errored, _AbstractChatCompletionRunner_aborted, _AbstractChatCompletionRunner_catchingPromiseCreated, _AbstractChatCompletionRunner_getFinalContent, _AbstractChatCompletionRunner_getFinalMessage, _AbstractChatCompletionRunner_getFinalFunctionCall, _AbstractChatCompletionRunner_getFinalFunctionCallResult, _AbstractChatCompletionRunner_calculateTotalUsage, _AbstractChatCompletionRunner_handleError, _AbstractChatCompletionRunner_validateParams, _AbstractChatCompletionRunner_stringifyFunctionCallResult;\nimport { APIUserAbortError, OpenAIError } from 'openai/error';\nimport { isRunnableFunctionWithParse, } from \"./RunnableFunction.mjs\";\nimport { isAssistantMessage, isFunctionMessage, isToolMessage } from \"./chatCompletionUtils.mjs\";\nconst DEFAULT_MAX_CHAT_COMPLETIONS = 10;\nexport class AbstractChatCompletionRunner {\n    constructor() {\n        _AbstractChatCompletionRunner_instances.add(this);\n        this.controller = new AbortController();\n        _AbstractChatCompletionRunner_connectedPromise.set(this, void 0);\n        _AbstractChatCompletionRunner_resolveConnectedPromise.set(this, () => { });\n        _AbstractChatCompletionRunner_rejectConnectedPromise.set(this, () => { });\n        _AbstractChatCompletionRunner_endPromise.set(this, void 0);\n        _AbstractChatCompletionRunner_resolveEndPromise.set(this, () => { });\n        _AbstractChatCompletionRunner_rejectEndPromise.set(this, () => { });\n        _AbstractChatCompletionRunner_listeners.set(this, {});\n        this._chatCompletions = [];\n        this.messages = [];\n        _AbstractChatCompletionRunner_ended.set(this, false);\n        _AbstractChatCompletionRunner_errored.set(this, false);\n        _AbstractChatCompletionRunner_aborted.set(this, false);\n        _AbstractChatCompletionRunner_catchingPromiseCreated.set(this, false);\n        _AbstractChatCompletionRunner_handleError.set(this, (error) => {\n            __classPrivateFieldSet(this, _AbstractChatCompletionRunner_errored, true, \"f\");\n            if (error instanceof Error && error.name === 'AbortError') {\n                error = new APIUserAbortError();\n            }\n            if (error instanceof APIUserAbortError) {\n                __classPrivateFieldSet(this, _AbstractChatCompletionRunner_aborted, true, \"f\");\n                return this._emit('abort', error);\n            }\n            if (error instanceof OpenAIError) {\n                return this._emit('error', error);\n            }\n            if (error instanceof Error) {\n                const openAIError = new OpenAIError(error.message);\n                // @ts-ignore\n                openAIError.cause = error;\n                return this._emit('error', openAIError);\n            }\n            return this._emit('error', new OpenAIError(String(error)));\n        });\n        __classPrivateFieldSet(this, _AbstractChatCompletionRunner_connectedPromise, new Promise((resolve, reject) => {\n            __classPrivateFieldSet(this, _AbstractChatCompletionRunner_resolveConnectedPromise, resolve, \"f\");\n            __classPrivateFieldSet(this, _AbstractChatCompletionRunner_rejectConnectedPromise, reject, \"f\");\n        }), \"f\");\n        __classPrivateFieldSet(this, _AbstractChatCompletionRunner_endPromise, new Promise((resolve, reject) => {\n            __classPrivateFieldSet(this, _AbstractChatCompletionRunner_resolveEndPromise, resolve, \"f\");\n            __classPrivateFieldSet(this, _AbstractChatCompletionRunner_rejectEndPromise, reject, \"f\");\n        }), \"f\");\n        // Don't let these promises cause unhandled rejection errors.\n        // we will manually cause an unhandled rejection error later\n        // if the user hasn't registered any error listener or called\n        // any promise-returning method.\n        __classPrivateFieldGet(this, _AbstractChatCompletionRunner_connectedPromise, \"f\").catch(() => { });\n        __classPrivateFieldGet(this, _AbstractChatCompletionRunner_endPromise, \"f\").catch(() => { });\n    }\n    _run(executor) {\n        // Unfortunately if we call `executor()` immediately we get runtime errors about\n        // references to `this` before the `super()` constructor call returns.\n        setTimeout(() => {\n            executor().then(() => {\n                this._emitFinal();\n                this._emit('end');\n            }, __classPrivateFieldGet(this, _AbstractChatCompletionRunner_handleError, \"f\"));\n        }, 0);\n    }\n    _addChatCompletion(chatCompletion) {\n        this._chatCompletions.push(chatCompletion);\n        this._emit('chatCompletion', chatCompletion);\n        const message = chatCompletion.choices[0]?.message;\n        if (message)\n            this._addMessage(message);\n        return chatCompletion;\n    }\n    _addMessage(message, emit = true) {\n        this.messages.push(message);\n        if (emit) {\n            this._emit('message', message);\n            if ((isFunctionMessage(message) || isToolMessage(message)) && message.content) {\n                // Note, this assumes that {role: 'tool', content: …} is always the result of a call of tool of type=function.\n                this._emit('functionCallResult', message.content);\n            }\n            else if (isAssistantMessage(message) && message.function_call) {\n                this._emit('functionCall', message.function_call);\n            }\n            else if (isAssistantMessage(message) && message.tool_calls) {\n                for (const tool_call of message.tool_calls) {\n                    if (tool_call.type === 'function') {\n                        this._emit('functionCall', tool_call.function);\n                    }\n                }\n            }\n        }\n    }\n    _connected() {\n        if (this.ended)\n            return;\n        __classPrivateFieldGet(this, _AbstractChatCompletionRunner_resolveConnectedPromise, \"f\").call(this);\n        this._emit('connect');\n    }\n    get ended() {\n        return __classPrivateFieldGet(this, _AbstractChatCompletionRunner_ended, \"f\");\n    }\n    get errored() {\n        return __classPrivateFieldGet(this, _AbstractChatCompletionRunner_errored, \"f\");\n    }\n    get aborted() {\n        return __classPrivateFieldGet(this, _AbstractChatCompletionRunner_aborted, \"f\");\n    }\n    abort() {\n        this.controller.abort();\n    }\n    /**\n     * Adds the listener function to the end of the listeners array for the event.\n     * No checks are made to see if the listener has already been added. Multiple calls passing\n     * the same combination of event and listener will result in the listener being added, and\n     * called, multiple times.\n     * @returns this ChatCompletionStream, so that calls can be chained\n     */\n    on(event, listener) {\n        const listeners = __classPrivateFieldGet(this, _AbstractChatCompletionRunner_listeners, \"f\")[event] || (__classPrivateFieldGet(this, _AbstractChatCompletionRunner_listeners, \"f\")[event] = []);\n        listeners.push({ listener });\n        return this;\n    }\n    /**\n     * Removes the specified listener from the listener array for the event.\n     * off() will remove, at most, one instance of a listener from the listener array. If any single\n     * listener has been added multiple times to the listener array for the specified event, then\n     * off() must be called multiple times to remove each instance.\n     * @returns this ChatCompletionStream, so that calls can be chained\n     */\n    off(event, listener) {\n        const listeners = __classPrivateFieldGet(this, _AbstractChatCompletionRunner_listeners, \"f\")[event];\n        if (!listeners)\n            return this;\n        const index = listeners.findIndex((l) => l.listener === listener);\n        if (index >= 0)\n            listeners.splice(index, 1);\n        return this;\n    }\n    /**\n     * Adds a one-time listener function for the event. The next time the event is triggered,\n     * this listener is removed and then invoked.\n     * @returns this ChatCompletionStream, so that calls can be chained\n     */\n    once(event, listener) {\n        const listeners = __classPrivateFieldGet(this, _AbstractChatCompletionRunner_listeners, \"f\")[event] || (__classPrivateFieldGet(this, _AbstractChatCompletionRunner_listeners, \"f\")[event] = []);\n        listeners.push({ listener, once: true });\n        return this;\n    }\n    /**\n     * This is similar to `.once()`, but returns a Promise that resolves the next time\n     * the event is triggered, instead of calling a listener callback.\n     * @returns a Promise that resolves the next time given event is triggered,\n     * or rejects if an error is emitted.  (If you request the 'error' event,\n     * returns a promise that resolves with the error).\n     *\n     * Example:\n     *\n     *   const message = await stream.emitted('message') // rejects if the stream errors\n     */\n    emitted(event) {\n        return new Promise((resolve, reject) => {\n            __classPrivateFieldSet(this, _AbstractChatCompletionRunner_catchingPromiseCreated, true, \"f\");\n            if (event !== 'error')\n                this.once('error', reject);\n            this.once(event, resolve);\n        });\n    }\n    async done() {\n        __classPrivateFieldSet(this, _AbstractChatCompletionRunner_catchingPromiseCreated, true, \"f\");\n        await __classPrivateFieldGet(this, _AbstractChatCompletionRunner_endPromise, \"f\");\n    }\n    /**\n     * @returns a promise that resolves with the final ChatCompletion, or rejects\n     * if an error occurred or the stream ended prematurely without producing a ChatCompletion.\n     */\n    async finalChatCompletion() {\n        await this.done();\n        const completion = this._chatCompletions[this._chatCompletions.length - 1];\n        if (!completion)\n            throw new OpenAIError('stream ended without producing a ChatCompletion');\n        return completion;\n    }\n    /**\n     * @returns a promise that resolves with the content of the final ChatCompletionMessage, or rejects\n     * if an error occurred or the stream ended prematurely without producing a ChatCompletionMessage.\n     */\n    async finalContent() {\n        await this.done();\n        return __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalContent).call(this);\n    }\n    /**\n     * @returns a promise that resolves with the the final assistant ChatCompletionMessage response,\n     * or rejects if an error occurred or the stream ended prematurely without producing a ChatCompletionMessage.\n     */\n    async finalMessage() {\n        await this.done();\n        return __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalMessage).call(this);\n    }\n    /**\n     * @returns a promise that resolves with the content of the final FunctionCall, or rejects\n     * if an error occurred or the stream ended prematurely without producing a ChatCompletionMessage.\n     */\n    async finalFunctionCall() {\n        await this.done();\n        return __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalFunctionCall).call(this);\n    }\n    async finalFunctionCallResult() {\n        await this.done();\n        return __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalFunctionCallResult).call(this);\n    }\n    async totalUsage() {\n        await this.done();\n        return __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_calculateTotalUsage).call(this);\n    }\n    allChatCompletions() {\n        return [...this._chatCompletions];\n    }\n    _emit(event, ...args) {\n        // make sure we don't emit any events after end\n        if (__classPrivateFieldGet(this, _AbstractChatCompletionRunner_ended, \"f\"))\n            return;\n        if (event === 'end') {\n            __classPrivateFieldSet(this, _AbstractChatCompletionRunner_ended, true, \"f\");\n            __classPrivateFieldGet(this, _AbstractChatCompletionRunner_resolveEndPromise, \"f\").call(this);\n        }\n        const listeners = __classPrivateFieldGet(this, _AbstractChatCompletionRunner_listeners, \"f\")[event];\n        if (listeners) {\n            __classPrivateFieldGet(this, _AbstractChatCompletionRunner_listeners, \"f\")[event] = listeners.filter((l) => !l.once);\n            listeners.forEach(({ listener }) => listener(...args));\n        }\n        if (event === 'abort') {\n            const error = args[0];\n            if (!__classPrivateFieldGet(this, _AbstractChatCompletionRunner_catchingPromiseCreated, \"f\") && !listeners?.length) {\n                Promise.reject(error);\n            }\n            __classPrivateFieldGet(this, _AbstractChatCompletionRunner_rejectConnectedPromise, \"f\").call(this, error);\n            __classPrivateFieldGet(this, _AbstractChatCompletionRunner_rejectEndPromise, \"f\").call(this, error);\n            this._emit('end');\n            return;\n        }\n        if (event === 'error') {\n            // NOTE: _emit('error', error) should only be called from #handleError().\n            const error = args[0];\n            if (!__classPrivateFieldGet(this, _AbstractChatCompletionRunner_catchingPromiseCreated, \"f\") && !listeners?.length) {\n                // Trigger an unhandled rejection if the user hasn't registered any error handlers.\n                // If you are seeing stack traces here, make sure to handle errors via either:\n                // - runner.on('error', () => ...)\n                // - await runner.done()\n                // - await runner.finalChatCompletion()\n                // - etc.\n                Promise.reject(error);\n            }\n            __classPrivateFieldGet(this, _AbstractChatCompletionRunner_rejectConnectedPromise, \"f\").call(this, error);\n            __classPrivateFieldGet(this, _AbstractChatCompletionRunner_rejectEndPromise, \"f\").call(this, error);\n            this._emit('end');\n        }\n    }\n    _emitFinal() {\n        const completion = this._chatCompletions[this._chatCompletions.length - 1];\n        if (completion)\n            this._emit('finalChatCompletion', completion);\n        const finalMessage = this.messages[this.messages.length - 1];\n        if (finalMessage)\n            this._emit('finalMessage', finalMessage);\n        const finalContent = __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalContent).call(this);\n        if (finalContent)\n            this._emit('finalContent', finalContent);\n        const finalFunctionCall = __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalFunctionCall).call(this);\n        if (finalFunctionCall)\n            this._emit('finalFunctionCall', finalFunctionCall);\n        const finalFunctionCallResult = __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalFunctionCallResult).call(this);\n        if (finalFunctionCallResult != null)\n            this._emit('finalFunctionCallResult', finalFunctionCallResult);\n        if (this._chatCompletions.some((c) => c.usage)) {\n            this._emit('totalUsage', __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_calculateTotalUsage).call(this));\n        }\n    }\n    async _createChatCompletion(completions, params, options) {\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted)\n                this.controller.abort();\n            signal.addEventListener('abort', () => this.controller.abort());\n        }\n        __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_validateParams).call(this, params);\n        const chatCompletion = await completions.create({ ...params, stream: false }, { ...options, signal: this.controller.signal });\n        this._connected();\n        return this._addChatCompletion(chatCompletion);\n    }\n    async _runChatCompletion(completions, params, options) {\n        for (const message of params.messages) {\n            this._addMessage(message, false);\n        }\n        return await this._createChatCompletion(completions, params, options);\n    }\n    async _runFunctions(completions, params, options) {\n        const role = 'function';\n        const { function_call = 'auto', stream, ...restParams } = params;\n        const singleFunctionToCall = typeof function_call !== 'string' && function_call?.name;\n        const { maxChatCompletions = DEFAULT_MAX_CHAT_COMPLETIONS } = options || {};\n        const functionsByName = {};\n        for (const f of params.functions) {\n            functionsByName[f.name || f.function.name] = f;\n        }\n        const functions = params.functions.map((f) => ({\n            name: f.name || f.function.name,\n            parameters: f.parameters,\n            description: f.description,\n        }));\n        for (const message of params.messages) {\n            this._addMessage(message, false);\n        }\n        for (let i = 0; i < maxChatCompletions; ++i) {\n            const chatCompletion = await this._createChatCompletion(completions, {\n                ...restParams,\n                function_call,\n                functions,\n                messages: [...this.messages],\n            }, options);\n            const message = chatCompletion.choices[0]?.message;\n            if (!message) {\n                throw new OpenAIError(`missing message in ChatCompletion response`);\n            }\n            if (!message.function_call)\n                return;\n            const { name, arguments: args } = message.function_call;\n            const fn = functionsByName[name];\n            if (!fn) {\n                const content = `Invalid function_call: ${JSON.stringify(name)}. Available options are: ${functions\n                    .map((f) => JSON.stringify(f.name))\n                    .join(', ')}. Please try again`;\n                this._addMessage({ role, name, content });\n                continue;\n            }\n            else if (singleFunctionToCall && singleFunctionToCall !== name) {\n                const content = `Invalid function_call: ${JSON.stringify(name)}. ${JSON.stringify(singleFunctionToCall)} requested. Please try again`;\n                this._addMessage({ role, name, content });\n                continue;\n            }\n            let parsed;\n            try {\n                parsed = isRunnableFunctionWithParse(fn) ? await fn.parse(args) : args;\n            }\n            catch (error) {\n                this._addMessage({\n                    role,\n                    name,\n                    content: error instanceof Error ? error.message : String(error),\n                });\n                continue;\n            }\n            // @ts-expect-error it can't rule out `never` type.\n            const rawContent = await fn.function(parsed, this);\n            const content = __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_stringifyFunctionCallResult).call(this, rawContent);\n            this._addMessage({ role, name, content });\n            if (singleFunctionToCall)\n                return;\n        }\n    }\n    async _runTools(completions, params, options) {\n        const role = 'tool';\n        const { tool_choice = 'auto', stream, ...restParams } = params;\n        const singleFunctionToCall = typeof tool_choice !== 'string' && tool_choice?.function?.name;\n        const { maxChatCompletions = DEFAULT_MAX_CHAT_COMPLETIONS } = options || {};\n        const functionsByName = {};\n        for (const f of params.tools) {\n            if (f.type === 'function') {\n                functionsByName[f.function.name || f.function.function.name] = f.function;\n            }\n        }\n        const tools = 'tools' in params ?\n            params.tools.map((t) => t.type === 'function' ?\n                {\n                    type: 'function',\n                    function: {\n                        name: t.function.name || t.function.function.name,\n                        parameters: t.function.parameters,\n                        description: t.function.description,\n                    },\n                }\n                : t)\n            : undefined;\n        for (const message of params.messages) {\n            this._addMessage(message, false);\n        }\n        for (let i = 0; i < maxChatCompletions; ++i) {\n            const chatCompletion = await this._createChatCompletion(completions, {\n                ...restParams,\n                tool_choice,\n                tools,\n                messages: [...this.messages],\n            }, options);\n            const message = chatCompletion.choices[0]?.message;\n            if (!message) {\n                throw new OpenAIError(`missing message in ChatCompletion response`);\n            }\n            if (!message.tool_calls)\n                return;\n            for (const tool_call of message.tool_calls) {\n                if (tool_call.type !== 'function')\n                    continue;\n                const tool_call_id = tool_call.id;\n                const { name, arguments: args } = tool_call.function;\n                const fn = functionsByName[name];\n                if (!fn) {\n                    const content = `Invalid tool_call: ${JSON.stringify(name)}. Available options are: ${tools\n                        .map((f) => JSON.stringify(f.function.name))\n                        .join(', ')}. Please try again`;\n                    this._addMessage({ role, tool_call_id, content });\n                    continue;\n                }\n                else if (singleFunctionToCall && singleFunctionToCall !== name) {\n                    const content = `Invalid tool_call: ${JSON.stringify(name)}. ${JSON.stringify(singleFunctionToCall)} requested. Please try again`;\n                    this._addMessage({ role, tool_call_id, content });\n                    continue;\n                }\n                let parsed;\n                try {\n                    parsed = isRunnableFunctionWithParse(fn) ? await fn.parse(args) : args;\n                }\n                catch (error) {\n                    const content = error instanceof Error ? error.message : String(error);\n                    this._addMessage({ role, tool_call_id, content });\n                    continue;\n                }\n                // @ts-expect-error it can't rule out `never` type.\n                const rawContent = await fn.function(parsed, this);\n                const content = __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_stringifyFunctionCallResult).call(this, rawContent);\n                this._addMessage({ role, tool_call_id, content });\n                if (singleFunctionToCall)\n                    return;\n            }\n        }\n    }\n}\n_AbstractChatCompletionRunner_connectedPromise = new WeakMap(), _AbstractChatCompletionRunner_resolveConnectedPromise = new WeakMap(), _AbstractChatCompletionRunner_rejectConnectedPromise = new WeakMap(), _AbstractChatCompletionRunner_endPromise = new WeakMap(), _AbstractChatCompletionRunner_resolveEndPromise = new WeakMap(), _AbstractChatCompletionRunner_rejectEndPromise = new WeakMap(), _AbstractChatCompletionRunner_listeners = new WeakMap(), _AbstractChatCompletionRunner_ended = new WeakMap(), _AbstractChatCompletionRunner_errored = new WeakMap(), _AbstractChatCompletionRunner_aborted = new WeakMap(), _AbstractChatCompletionRunner_catchingPromiseCreated = new WeakMap(), _AbstractChatCompletionRunner_handleError = new WeakMap(), _AbstractChatCompletionRunner_instances = new WeakSet(), _AbstractChatCompletionRunner_getFinalContent = function _AbstractChatCompletionRunner_getFinalContent() {\n    return __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalMessage).call(this).content;\n}, _AbstractChatCompletionRunner_getFinalMessage = function _AbstractChatCompletionRunner_getFinalMessage() {\n    let i = this.messages.length;\n    while (i-- > 0) {\n        const message = this.messages[i];\n        if (isAssistantMessage(message)) {\n            return message;\n        }\n    }\n    throw new OpenAIError('stream ended without producing a ChatCompletionMessage with role=assistant');\n}, _AbstractChatCompletionRunner_getFinalFunctionCall = function _AbstractChatCompletionRunner_getFinalFunctionCall() {\n    for (let i = this.messages.length - 1; i >= 0; i--) {\n        const message = this.messages[i];\n        if (isAssistantMessage(message) && message?.function_call) {\n            return message.function_call;\n        }\n    }\n    return;\n}, _AbstractChatCompletionRunner_getFinalFunctionCallResult = function _AbstractChatCompletionRunner_getFinalFunctionCallResult() {\n    for (let i = this.messages.length - 1; i >= 0; i--) {\n        const message = this.messages[i];\n        if (isFunctionMessage(message) && message.content != null) {\n            return message.content;\n        }\n    }\n    return;\n}, _AbstractChatCompletionRunner_calculateTotalUsage = function _AbstractChatCompletionRunner_calculateTotalUsage() {\n    const total = {\n        completion_tokens: 0,\n        prompt_tokens: 0,\n        total_tokens: 0,\n    };\n    for (const { usage } of this._chatCompletions) {\n        if (usage) {\n            total.completion_tokens += usage.completion_tokens;\n            total.prompt_tokens += usage.prompt_tokens;\n            total.total_tokens += usage.total_tokens;\n        }\n    }\n    return total;\n}, _AbstractChatCompletionRunner_validateParams = function _AbstractChatCompletionRunner_validateParams(params) {\n    if (params.n != null && params.n > 1) {\n        throw new OpenAIError('ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.');\n    }\n}, _AbstractChatCompletionRunner_stringifyFunctionCallResult = function _AbstractChatCompletionRunner_stringifyFunctionCallResult(rawContent) {\n    return (typeof rawContent === 'string' ? rawContent\n        : rawContent === undefined ? 'undefined'\n            : JSON.stringify(rawContent));\n};\n//# sourceMappingURL=AbstractChatCompletionRunner.mjs.map","import { AbstractChatCompletionRunner, } from \"./AbstractChatCompletionRunner.mjs\";\nimport { isAssistantMessage } from \"./chatCompletionUtils.mjs\";\nexport class ChatCompletionRunner extends AbstractChatCompletionRunner {\n    static runFunctions(completions, params, options) {\n        const runner = new ChatCompletionRunner();\n        runner._run(() => runner._runFunctions(completions, params, options));\n        return runner;\n    }\n    static runTools(completions, params, options) {\n        const runner = new ChatCompletionRunner();\n        runner._run(() => runner._runTools(completions, params, options));\n        return runner;\n    }\n    _addMessage(message) {\n        super._addMessage(message);\n        if (isAssistantMessage(message) && message.content) {\n            this._emit('content', message.content);\n        }\n    }\n}\n//# sourceMappingURL=ChatCompletionRunner.mjs.map","var __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar _ChatCompletionStream_instances, _ChatCompletionStream_currentChatCompletionSnapshot, _ChatCompletionStream_beginRequest, _ChatCompletionStream_addChunk, _ChatCompletionStream_endRequest, _ChatCompletionStream_accumulateChatCompletion;\nimport { OpenAIError, APIUserAbortError } from 'openai/error';\nimport { AbstractChatCompletionRunner, } from \"./AbstractChatCompletionRunner.mjs\";\nimport { Stream } from 'openai/streaming';\nexport class ChatCompletionStream extends AbstractChatCompletionRunner {\n    constructor() {\n        super(...arguments);\n        _ChatCompletionStream_instances.add(this);\n        _ChatCompletionStream_currentChatCompletionSnapshot.set(this, void 0);\n    }\n    get currentChatCompletionSnapshot() {\n        return __classPrivateFieldGet(this, _ChatCompletionStream_currentChatCompletionSnapshot, \"f\");\n    }\n    /**\n     * Intended for use on the frontend, consuming a stream produced with\n     * `.toReadableStream()` on the backend.\n     *\n     * Note that messages sent to the model do not appear in `.on('message')`\n     * in this context.\n     */\n    static fromReadableStream(stream) {\n        const runner = new ChatCompletionStream();\n        runner._run(() => runner._fromReadableStream(stream));\n        return runner;\n    }\n    static createChatCompletion(completions, params, options) {\n        const runner = new ChatCompletionStream();\n        runner._run(() => runner._runChatCompletion(completions, { ...params, stream: true }, options));\n        return runner;\n    }\n    async _createChatCompletion(completions, params, options) {\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted)\n                this.controller.abort();\n            signal.addEventListener('abort', () => this.controller.abort());\n        }\n        __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_beginRequest).call(this);\n        const stream = await completions.create({ ...params, stream: true }, { ...options, signal: this.controller.signal });\n        this._connected();\n        for await (const chunk of stream) {\n            __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_addChunk).call(this, chunk);\n        }\n        if (stream.controller.signal?.aborted) {\n            throw new APIUserAbortError();\n        }\n        return this._addChatCompletion(__classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_endRequest).call(this));\n    }\n    async _fromReadableStream(readableStream, options) {\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted)\n                this.controller.abort();\n            signal.addEventListener('abort', () => this.controller.abort());\n        }\n        __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_beginRequest).call(this);\n        this._connected();\n        const stream = Stream.fromReadableStream(readableStream, this.controller);\n        let chatId;\n        for await (const chunk of stream) {\n            if (chatId && chatId !== chunk.id) {\n                // A new request has been made.\n                this._addChatCompletion(__classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_endRequest).call(this));\n            }\n            __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_addChunk).call(this, chunk);\n            chatId = chunk.id;\n        }\n        if (stream.controller.signal?.aborted) {\n            throw new APIUserAbortError();\n        }\n        return this._addChatCompletion(__classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_endRequest).call(this));\n    }\n    [(_ChatCompletionStream_currentChatCompletionSnapshot = new WeakMap(), _ChatCompletionStream_instances = new WeakSet(), _ChatCompletionStream_beginRequest = function _ChatCompletionStream_beginRequest() {\n        if (this.ended)\n            return;\n        __classPrivateFieldSet(this, _ChatCompletionStream_currentChatCompletionSnapshot, undefined, \"f\");\n    }, _ChatCompletionStream_addChunk = function _ChatCompletionStream_addChunk(chunk) {\n        if (this.ended)\n            return;\n        const completion = __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_accumulateChatCompletion).call(this, chunk);\n        this._emit('chunk', chunk, completion);\n        const delta = chunk.choices[0]?.delta?.content;\n        const snapshot = completion.choices[0]?.message;\n        if (delta != null && snapshot?.role === 'assistant' && snapshot?.content) {\n            this._emit('content', delta, snapshot.content);\n        }\n    }, _ChatCompletionStream_endRequest = function _ChatCompletionStream_endRequest() {\n        if (this.ended) {\n            throw new OpenAIError(`stream has ended, this shouldn't happen`);\n        }\n        const snapshot = __classPrivateFieldGet(this, _ChatCompletionStream_currentChatCompletionSnapshot, \"f\");\n        if (!snapshot) {\n            throw new OpenAIError(`request ended without sending any chunks`);\n        }\n        __classPrivateFieldSet(this, _ChatCompletionStream_currentChatCompletionSnapshot, undefined, \"f\");\n        return finalizeChatCompletion(snapshot);\n    }, _ChatCompletionStream_accumulateChatCompletion = function _ChatCompletionStream_accumulateChatCompletion(chunk) {\n        var _a, _b;\n        let snapshot = __classPrivateFieldGet(this, _ChatCompletionStream_currentChatCompletionSnapshot, \"f\");\n        const { choices, ...rest } = chunk;\n        if (!snapshot) {\n            snapshot = __classPrivateFieldSet(this, _ChatCompletionStream_currentChatCompletionSnapshot, {\n                ...rest,\n                choices: [],\n            }, \"f\");\n        }\n        else {\n            Object.assign(snapshot, rest);\n        }\n        for (const { delta, finish_reason, index, ...other } of chunk.choices) {\n            let choice = snapshot.choices[index];\n            if (!choice) {\n                snapshot.choices[index] = { finish_reason, index, message: delta, ...other };\n                continue;\n            }\n            if (finish_reason)\n                choice.finish_reason = finish_reason;\n            Object.assign(choice, other);\n            if (!delta)\n                continue; // Shouldn't happen; just in case.\n            const { content, function_call, role, tool_calls } = delta;\n            if (content)\n                choice.message.content = (choice.message.content || '') + content;\n            if (role)\n                choice.message.role = role;\n            if (function_call) {\n                if (!choice.message.function_call) {\n                    choice.message.function_call = function_call;\n                }\n                else {\n                    if (function_call.name)\n                        choice.message.function_call.name = function_call.name;\n                    if (function_call.arguments) {\n                        (_a = choice.message.function_call).arguments ?? (_a.arguments = '');\n                        choice.message.function_call.arguments += function_call.arguments;\n                    }\n                }\n            }\n            if (tool_calls) {\n                if (!choice.message.tool_calls)\n                    choice.message.tool_calls = [];\n                for (const { index, id, type, function: fn } of tool_calls) {\n                    const tool_call = ((_b = choice.message.tool_calls)[index] ?? (_b[index] = {}));\n                    if (id)\n                        tool_call.id = id;\n                    if (type)\n                        tool_call.type = type;\n                    if (fn)\n                        tool_call.function ?? (tool_call.function = { arguments: '' });\n                    if (fn?.name)\n                        tool_call.function.name = fn.name;\n                    if (fn?.arguments)\n                        tool_call.function.arguments += fn.arguments;\n                }\n            }\n        }\n        return snapshot;\n    }, Symbol.asyncIterator)]() {\n        const pushQueue = [];\n        const readQueue = [];\n        let done = false;\n        this.on('chunk', (chunk) => {\n            const reader = readQueue.shift();\n            if (reader) {\n                reader(chunk);\n            }\n            else {\n                pushQueue.push(chunk);\n            }\n        });\n        this.on('end', () => {\n            done = true;\n            for (const reader of readQueue) {\n                reader(undefined);\n            }\n            readQueue.length = 0;\n        });\n        return {\n            next: async () => {\n                if (!pushQueue.length) {\n                    if (done) {\n                        return { value: undefined, done: true };\n                    }\n                    return new Promise((resolve) => readQueue.push(resolve)).then((chunk) => (chunk ? { value: chunk, done: false } : { value: undefined, done: true }));\n                }\n                const chunk = pushQueue.shift();\n                return { value: chunk, done: false };\n            },\n        };\n    }\n    toReadableStream() {\n        const stream = new Stream(this[Symbol.asyncIterator].bind(this), this.controller);\n        return stream.toReadableStream();\n    }\n}\nfunction finalizeChatCompletion(snapshot) {\n    const { id, choices, created, model } = snapshot;\n    return {\n        id,\n        choices: choices.map(({ message, finish_reason, index }) => {\n            if (!finish_reason)\n                throw new OpenAIError(`missing finish_reason for choice ${index}`);\n            const { content = null, function_call, tool_calls } = message;\n            const role = message.role; // this is what we expect; in theory it could be different which would make our types a slight lie but would be fine.\n            if (!role)\n                throw new OpenAIError(`missing role for choice ${index}`);\n            if (function_call) {\n                const { arguments: args, name } = function_call;\n                if (args == null)\n                    throw new OpenAIError(`missing function_call.arguments for choice ${index}`);\n                if (!name)\n                    throw new OpenAIError(`missing function_call.name for choice ${index}`);\n                return { message: { content, function_call: { arguments: args, name }, role }, finish_reason, index };\n            }\n            if (tool_calls) {\n                return {\n                    index,\n                    finish_reason,\n                    message: {\n                        role,\n                        content,\n                        tool_calls: tool_calls.map((tool_call, i) => {\n                            const { function: fn, type, id } = tool_call;\n                            const { arguments: args, name } = fn || {};\n                            if (id == null)\n                                throw new OpenAIError(`missing choices[${index}].tool_calls[${i}].id\\n${str(snapshot)}`);\n                            if (type == null)\n                                throw new OpenAIError(`missing choices[${index}].tool_calls[${i}].type\\n${str(snapshot)}`);\n                            if (name == null)\n                                throw new OpenAIError(`missing choices[${index}].tool_calls[${i}].function.name\\n${str(snapshot)}`);\n                            if (args == null)\n                                throw new OpenAIError(`missing choices[${index}].tool_calls[${i}].function.arguments\\n${str(snapshot)}`);\n                            return { id, type, function: { name, arguments: args } };\n                        }),\n                    },\n                };\n            }\n            return { message: { content: content, role }, finish_reason, index };\n        }),\n        created,\n        model,\n        object: 'chat.completion',\n    };\n}\nfunction str(x) {\n    return JSON.stringify(x);\n}\n//# sourceMappingURL=ChatCompletionStream.mjs.map","// File generated from our OpenAPI spec by Stainless.\nvar _a;\nimport * as Core from \"./core.mjs\";\nimport * as Pagination from \"./pagination.mjs\";\nimport * as Errors from \"./error.mjs\";\nimport * as Uploads from \"./uploads.mjs\";\nimport * as API from 'openai/resources/index';\n/** API Client for interfacing with the OpenAI API. */\nexport class OpenAI extends Core.APIClient {\n    /**\n     * API Client for interfacing with the OpenAI API.\n     *\n     * @param {string} [opts.apiKey==process.env['OPENAI_API_KEY'] ?? undefined]\n     * @param {string | null} [opts.organization==process.env['OPENAI_ORG_ID'] ?? null]\n     * @param {string} [opts.baseURL] - Override the default base URL for the API.\n     * @param {number} [opts.timeout=10 minutes] - The maximum amount of time (in milliseconds) the client will wait for a response before timing out.\n     * @param {number} [opts.httpAgent] - An HTTP agent used to manage HTTP(s) connections.\n     * @param {Core.Fetch} [opts.fetch] - Specify a custom `fetch` function implementation.\n     * @param {number} [opts.maxRetries=2] - The maximum number of times the client will retry a request.\n     * @param {Core.Headers} opts.defaultHeaders - Default headers to include with every request to the API.\n     * @param {Core.DefaultQuery} opts.defaultQuery - Default query parameters to include with every request to the API.\n     * @param {boolean} [opts.dangerouslyAllowBrowser=false] - By default, client-side use of this library is not allowed, as it risks exposing your secret API credentials to attackers.\n     */\n    constructor({ apiKey = Core.readEnv('OPENAI_API_KEY'), organization = Core.readEnv('OPENAI_ORG_ID') ?? null, ...opts } = {}) {\n        if (apiKey === undefined) {\n            throw new Errors.OpenAIError(\"The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).\");\n        }\n        const options = {\n            apiKey,\n            organization,\n            ...opts,\n            baseURL: opts.baseURL ?? `https://api.openai.com/v1`,\n        };\n        if (!options.dangerouslyAllowBrowser && Core.isRunningInBrowser()) {\n            throw new Errors.OpenAIError(\"It looks like you're running in a browser-like environment.\\n\\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\\nIf you understand the risks and have appropriate mitigations in place,\\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\\n\\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\\n\\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\\n\");\n        }\n        super({\n            baseURL: options.baseURL,\n            timeout: options.timeout ?? 600000 /* 10 minutes */,\n            httpAgent: options.httpAgent,\n            maxRetries: options.maxRetries,\n            fetch: options.fetch,\n        });\n        this.completions = new API.Completions(this);\n        this.chat = new API.Chat(this);\n        this.edits = new API.Edits(this);\n        this.embeddings = new API.Embeddings(this);\n        this.files = new API.Files(this);\n        this.images = new API.Images(this);\n        this.audio = new API.Audio(this);\n        this.moderations = new API.Moderations(this);\n        this.models = new API.Models(this);\n        this.fineTuning = new API.FineTuning(this);\n        this.fineTunes = new API.FineTunes(this);\n        this.beta = new API.Beta(this);\n        this._options = options;\n        this.apiKey = apiKey;\n        this.organization = organization;\n    }\n    defaultQuery() {\n        return this._options.defaultQuery;\n    }\n    defaultHeaders(opts) {\n        return {\n            ...super.defaultHeaders(opts),\n            'OpenAI-Organization': this.organization,\n            ...this._options.defaultHeaders,\n        };\n    }\n    authHeaders(opts) {\n        return { Authorization: `Bearer ${this.apiKey}` };\n    }\n}\n_a = OpenAI;\nOpenAI.OpenAI = _a;\nOpenAI.OpenAIError = Errors.OpenAIError;\nOpenAI.APIError = Errors.APIError;\nOpenAI.APIConnectionError = Errors.APIConnectionError;\nOpenAI.APIConnectionTimeoutError = Errors.APIConnectionTimeoutError;\nOpenAI.APIUserAbortError = Errors.APIUserAbortError;\nOpenAI.NotFoundError = Errors.NotFoundError;\nOpenAI.ConflictError = Errors.ConflictError;\nOpenAI.RateLimitError = Errors.RateLimitError;\nOpenAI.BadRequestError = Errors.BadRequestError;\nOpenAI.AuthenticationError = Errors.AuthenticationError;\nOpenAI.InternalServerError = Errors.InternalServerError;\nOpenAI.PermissionDeniedError = Errors.PermissionDeniedError;\nOpenAI.UnprocessableEntityError = Errors.UnprocessableEntityError;\nexport const { OpenAIError, APIError, APIConnectionError, APIConnectionTimeoutError, APIUserAbortError, NotFoundError, ConflictError, RateLimitError, BadRequestError, AuthenticationError, InternalServerError, PermissionDeniedError, UnprocessableEntityError, } = Errors;\nexport var toFile = Uploads.toFile;\nexport var fileFromPath = Uploads.fileFromPath;\n(function (OpenAI) {\n    // Helper functions\n    OpenAI.toFile = Uploads.toFile;\n    OpenAI.fileFromPath = Uploads.fileFromPath;\n    OpenAI.Page = Pagination.Page;\n    OpenAI.CursorPage = Pagination.CursorPage;\n    OpenAI.Completions = API.Completions;\n    OpenAI.Chat = API.Chat;\n    OpenAI.Edits = API.Edits;\n    OpenAI.Embeddings = API.Embeddings;\n    OpenAI.Files = API.Files;\n    OpenAI.FileObjectsPage = API.FileObjectsPage;\n    OpenAI.Images = API.Images;\n    OpenAI.Audio = API.Audio;\n    OpenAI.Moderations = API.Moderations;\n    OpenAI.Models = API.Models;\n    OpenAI.ModelsPage = API.ModelsPage;\n    OpenAI.FineTuning = API.FineTuning;\n    OpenAI.FineTunes = API.FineTunes;\n    OpenAI.FineTunesPage = API.FineTunesPage;\n    OpenAI.Beta = API.Beta;\n})(OpenAI || (OpenAI = {}));\nexport default OpenAI;\n//# sourceMappingURL=index.mjs.map","import { ChatCompletionStream } from \"./ChatCompletionStream.mjs\";\nexport class ChatCompletionStreamingRunner extends ChatCompletionStream {\n    static fromReadableStream(stream) {\n        const runner = new ChatCompletionStreamingRunner();\n        runner._run(() => runner._fromReadableStream(stream));\n        return runner;\n    }\n    static runFunctions(completions, params, options) {\n        const runner = new ChatCompletionStreamingRunner();\n        runner._run(() => runner._runFunctions(completions, params, options));\n        return runner;\n    }\n    static runTools(completions, params, options) {\n        const runner = new ChatCompletionStreamingRunner();\n        runner._run(() => runner._runTools(completions, params, options));\n        return runner;\n    }\n}\n//# sourceMappingURL=ChatCompletionStreamingRunner.mjs.map","// File generated from our OpenAPI spec by Stainless.\nimport { APIResource } from 'openai/resource';\nimport { ChatCompletionRunner } from 'openai/lib/ChatCompletionRunner';\nexport { ChatCompletionRunner } from 'openai/lib/ChatCompletionRunner';\nimport { ChatCompletionStreamingRunner, } from 'openai/lib/ChatCompletionStreamingRunner';\nexport { ChatCompletionStreamingRunner, } from 'openai/lib/ChatCompletionStreamingRunner';\nexport { ParsingFunction, } from 'openai/lib/RunnableFunction';\nimport { ChatCompletionStream } from 'openai/lib/ChatCompletionStream';\nexport { ChatCompletionStream } from 'openai/lib/ChatCompletionStream';\nexport class Completions extends APIResource {\n    runFunctions(body, options) {\n        if (body.stream) {\n            return ChatCompletionStreamingRunner.runFunctions(this.client.chat.completions, body, options);\n        }\n        return ChatCompletionRunner.runFunctions(this.client.chat.completions, body, options);\n    }\n    runTools(body, options) {\n        if (body.stream) {\n            return ChatCompletionStreamingRunner.runTools(this.client.chat.completions, body, options);\n        }\n        return ChatCompletionRunner.runTools(this.client.chat.completions, body, options);\n    }\n    /**\n     * Creates a chat completion stream\n     */\n    stream(body, options) {\n        return ChatCompletionStream.createChatCompletion(this.client.chat.completions, body, options);\n    }\n}\n//# sourceMappingURL=completions.mjs.map","// File generated from our OpenAPI spec by Stainless.\nimport { APIResource } from 'openai/resource';\nimport * as CompletionsAPI from 'openai/resources/beta/chat/completions';\nexport class Chat extends APIResource {\n    constructor() {\n        super(...arguments);\n        this.completions = new CompletionsAPI.Completions(this.client);\n    }\n}\n(function (Chat) {\n    Chat.Completions = CompletionsAPI.Completions;\n})(Chat || (Chat = {}));\n//# sourceMappingURL=chat.mjs.map","// File generated from our OpenAPI spec by Stainless.\nimport { APIResource } from 'openai/resource';\nimport { isRequestOptions } from 'openai/core';\nimport * as FilesAPI from 'openai/resources/beta/threads/messages/files';\nimport { CursorPage } from 'openai/pagination';\nexport class Files extends APIResource {\n    /**\n     * Retrieves a message file.\n     */\n    retrieve(threadId, messageId, fileId, options) {\n        return this.get(`/threads/${threadId}/messages/${messageId}/files/${fileId}`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v1', ...options?.headers },\n        });\n    }\n    list(threadId, messageId, query = {}, options) {\n        if (isRequestOptions(query)) {\n            return this.list(threadId, messageId, {}, query);\n        }\n        return this.getAPIList(`/threads/${threadId}/messages/${messageId}/files`, MessageFilesPage, {\n            query,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v1', ...options?.headers },\n        });\n    }\n}\nexport class MessageFilesPage extends CursorPage {\n}\n(function (Files) {\n    Files.MessageFilesPage = FilesAPI.MessageFilesPage;\n})(Files || (Files = {}));\n//# sourceMappingURL=files.mjs.map","// File generated from our OpenAPI spec by Stainless.\nimport { APIResource } from 'openai/resource';\nimport { isRequestOptions } from 'openai/core';\nimport * as MessagesAPI from 'openai/resources/beta/threads/messages/messages';\nimport * as FilesAPI from 'openai/resources/beta/threads/messages/files';\nimport { CursorPage } from 'openai/pagination';\nexport class Messages extends APIResource {\n    constructor() {\n        super(...arguments);\n        this.files = new FilesAPI.Files(this.client);\n    }\n    /**\n     * Create a message.\n     */\n    create(threadId, body, options) {\n        return this.post(`/threads/${threadId}/messages`, {\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v1', ...options?.headers },\n        });\n    }\n    /**\n     * Retrieve a message.\n     */\n    retrieve(threadId, messageId, options) {\n        return this.get(`/threads/${threadId}/messages/${messageId}`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v1', ...options?.headers },\n        });\n    }\n    /**\n     * Modifies a message.\n     */\n    update(threadId, messageId, body, options) {\n        return this.post(`/threads/${threadId}/messages/${messageId}`, {\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v1', ...options?.headers },\n        });\n    }\n    list(threadId, query = {}, options) {\n        if (isRequestOptions(query)) {\n            return this.list(threadId, {}, query);\n        }\n        return this.getAPIList(`/threads/${threadId}/messages`, ThreadMessagesPage, {\n            query,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v1', ...options?.headers },\n        });\n    }\n}\nexport class ThreadMessagesPage extends CursorPage {\n}\n(function (Messages) {\n    Messages.ThreadMessagesPage = MessagesAPI.ThreadMessagesPage;\n    Messages.Files = FilesAPI.Files;\n    Messages.MessageFilesPage = FilesAPI.MessageFilesPage;\n})(Messages || (Messages = {}));\n//# sourceMappingURL=messages.mjs.map","// File generated from our OpenAPI spec by Stainless.\nimport { APIResource } from 'openai/resource';\nimport { isRequestOptions } from 'openai/core';\nimport * as StepsAPI from 'openai/resources/beta/threads/runs/steps';\nimport { CursorPage } from 'openai/pagination';\nexport class Steps extends APIResource {\n    /**\n     * Retrieves a run step.\n     */\n    retrieve(threadId, runId, stepId, options) {\n        return this.get(`/threads/${threadId}/runs/${runId}/steps/${stepId}`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v1', ...options?.headers },\n        });\n    }\n    list(threadId, runId, query = {}, options) {\n        if (isRequestOptions(query)) {\n            return this.list(threadId, runId, {}, query);\n        }\n        return this.getAPIList(`/threads/${threadId}/runs/${runId}/steps`, RunStepsPage, {\n            query,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v1', ...options?.headers },\n        });\n    }\n}\nexport class RunStepsPage extends CursorPage {\n}\n(function (Steps) {\n    Steps.RunStepsPage = StepsAPI.RunStepsPage;\n})(Steps || (Steps = {}));\n//# sourceMappingURL=steps.mjs.map","// File generated from our OpenAPI spec by Stainless.\nimport { APIResource } from 'openai/resource';\nimport { isRequestOptions } from 'openai/core';\nimport * as RunsAPI from 'openai/resources/beta/threads/runs/runs';\nimport * as StepsAPI from 'openai/resources/beta/threads/runs/steps';\nimport { CursorPage } from 'openai/pagination';\nexport class Runs extends APIResource {\n    constructor() {\n        super(...arguments);\n        this.steps = new StepsAPI.Steps(this.client);\n    }\n    /**\n     * Create a run.\n     */\n    create(threadId, body, options) {\n        return this.post(`/threads/${threadId}/runs`, {\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v1', ...options?.headers },\n        });\n    }\n    /**\n     * Retrieves a run.\n     */\n    retrieve(threadId, runId, options) {\n        return this.get(`/threads/${threadId}/runs/${runId}`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v1', ...options?.headers },\n        });\n    }\n    /**\n     * Modifies a run.\n     */\n    update(threadId, runId, body, options) {\n        return this.post(`/threads/${threadId}/runs/${runId}`, {\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v1', ...options?.headers },\n        });\n    }\n    list(threadId, query = {}, options) {\n        if (isRequestOptions(query)) {\n            return this.list(threadId, {}, query);\n        }\n        return this.getAPIList(`/threads/${threadId}/runs`, RunsPage, {\n            query,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v1', ...options?.headers },\n        });\n    }\n    /**\n     * Cancels a run that is `in_progress`.\n     */\n    cancel(threadId, runId, options) {\n        return this.post(`/threads/${threadId}/runs/${runId}/cancel`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v1', ...options?.headers },\n        });\n    }\n    /**\n     * When a run has the `status: \"requires_action\"` and `required_action.type` is\n     * `submit_tool_outputs`, this endpoint can be used to submit the outputs from the\n     * tool calls once they're all completed. All outputs must be submitted in a single\n     * request.\n     */\n    submitToolOutputs(threadId, runId, body, options) {\n        return this.post(`/threads/${threadId}/runs/${runId}/submit_tool_outputs`, {\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v1', ...options?.headers },\n        });\n    }\n}\nexport class RunsPage extends CursorPage {\n}\n(function (Runs) {\n    Runs.RunsPage = RunsAPI.RunsPage;\n    Runs.Steps = StepsAPI.Steps;\n    Runs.RunStepsPage = StepsAPI.RunStepsPage;\n})(Runs || (Runs = {}));\n//# sourceMappingURL=runs.mjs.map","// File generated from our OpenAPI spec by Stainless.\nimport { APIResource } from 'openai/resource';\nimport { isRequestOptions } from 'openai/core';\nimport * as MessagesAPI from 'openai/resources/beta/threads/messages/messages';\nimport * as RunsAPI from 'openai/resources/beta/threads/runs/runs';\nexport class Threads extends APIResource {\n    constructor() {\n        super(...arguments);\n        this.runs = new RunsAPI.Runs(this.client);\n        this.messages = new MessagesAPI.Messages(this.client);\n    }\n    create(body = {}, options) {\n        if (isRequestOptions(body)) {\n            return this.create({}, body);\n        }\n        return this.post('/threads', {\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v1', ...options?.headers },\n        });\n    }\n    /**\n     * Retrieves a thread.\n     */\n    retrieve(threadId, options) {\n        return this.get(`/threads/${threadId}`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v1', ...options?.headers },\n        });\n    }\n    /**\n     * Modifies a thread.\n     */\n    update(threadId, body, options) {\n        return this.post(`/threads/${threadId}`, {\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v1', ...options?.headers },\n        });\n    }\n    /**\n     * Delete a thread.\n     */\n    del(threadId, options) {\n        return this.delete(`/threads/${threadId}`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v1', ...options?.headers },\n        });\n    }\n    /**\n     * Create a thread and run it in one request.\n     */\n    createAndRun(body, options) {\n        return this.post('/threads/runs', {\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v1', ...options?.headers },\n        });\n    }\n}\n(function (Threads) {\n    Threads.Runs = RunsAPI.Runs;\n    Threads.RunsPage = RunsAPI.RunsPage;\n    Threads.Messages = MessagesAPI.Messages;\n    Threads.ThreadMessagesPage = MessagesAPI.ThreadMessagesPage;\n})(Threads || (Threads = {}));\n//# sourceMappingURL=threads.mjs.map","// File generated from our OpenAPI spec by Stainless.\nimport { APIResource } from 'openai/resource';\nimport * as AssistantsAPI from 'openai/resources/beta/assistants/assistants';\nimport * as ChatAPI from 'openai/resources/beta/chat/chat';\nimport * as ThreadsAPI from 'openai/resources/beta/threads/threads';\nexport class Beta extends APIResource {\n    constructor() {\n        super(...arguments);\n        this.chat = new ChatAPI.Chat(this.client);\n        this.assistants = new AssistantsAPI.Assistants(this.client);\n        this.threads = new ThreadsAPI.Threads(this.client);\n    }\n}\n(function (Beta) {\n    Beta.Chat = ChatAPI.Chat;\n    Beta.Assistants = AssistantsAPI.Assistants;\n    Beta.AssistantsPage = AssistantsAPI.AssistantsPage;\n    Beta.Threads = ThreadsAPI.Threads;\n})(Beta || (Beta = {}));\n//# sourceMappingURL=beta.mjs.map","// import axios from \"axios\";\r\nimport OpenAI from \"openai\";\r\nconst openai = new OpenAI({\r\n  apiKey: \"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\",\r\n  dangerouslyAllowBrowser: true,\r\n});\r\nexport default async function apiRequest(imageData, apiText) {\r\n  // let sceneX_input = `data:image/png;base64,${imageData}`;\r\n  // console.log(\"sceneX_input======>\", sceneX_input);\r\n  //   console.log(\"imageData\", fileData.imageData, \"algorithm\", fileData.algorithm, \"languages\", [fileData.language]);\r\n  // console.log(\"apiText===>\", apiText);\r\n  let openai_input = `data:image/png;base64,${imageData}`;\r\n  const response = await openai.chat.completions.create({\r\n    model: \"gpt-4-vision-preview\",\r\n    messages: [\r\n      {\r\n        role: \"user\",\r\n        content: [\r\n          {\r\n            type: \"text\",\r\n            text: apiText,\r\n          },\r\n          {\r\n            type: \"image_url\",\r\n            image_url: {\r\n              url: openai_input,\r\n            },\r\n          },\r\n        ],\r\n      },\r\n    ],\r\n    temperature: 0.6,\r\n    max_tokens: 1024,\r\n  });\r\n\r\n  //console.log(\"reponse=====>\", response);\r\n\r\n  // const response = await axios.request(response);\r\n\r\n  // console.log(\"reponse=====>\", response.data);\r\n\r\n  return response;\r\n}\r\n","/* eslint-disable no-undef */\n/*\n *Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.\n * See LICENSE in the project root for license information.\n */\n\n/* global document, Office, Word */\nimport apiRequest from \"./api.js\";\nimport { savePrompt, loadPrompt } from \"./database.js\";\n\nOffice.onReady((info) => {\n  if (info.host === Office.HostType.Word) {\n    // Assign event handlers and other initialization logic.\n    document.getElementById(\"insert-paragraph\").onclick = () => tryCatch(insertParagraph);\n    document.getElementById(\"sideload-msg\").style.display = \"none\";\n    document.getElementById(\"app-body\").style.display = \"flex\";\n\n    //Load function when clicked Add Prompt button\n    document.getElementById(\"save-button\").onclick = () => tryCatch(databaseSave);\n    document.getElementById(\"clear-list\").onclick = () => tryCatch(clearPromptList);\n    //Load prompt when start\n    databaseLoad();\n\n    //Function when use prompt from list\n    document.getElementById(\"use-prompt\").onchange = () => tryCatch(hideButton);\n    document.getElementById(\"prompt-list\").onchange = () => tryCatch(hideButton);\n  }\n});\n\nlet apiText;\nasync function insertParagraph() {\n  // TODO1: Queue commands to insert a paragraph into the document.\n  await Word.run(async function (context) {\n    const docBody = context.document.body;\n    apiText = getData();\n    if (document.getElementById(\"describe-image\").value === \"describe-selected\") {\n      let range = await context.document.getSelection();\n      let images = range.inlinePictures;\n      images.load(\"id\");\n      //Syncronizatoin is need in Word for savind data at ch step.\n      await context.sync();\n      //Get the first inline picture that is selected and convert it to base64\n      let picture = range.inlinePictures.getFirstOrNullObject();\n      let picbase64 = picture.getBase64ImageSrc();\n      await context.sync();\n      // eslint-disable-next-line office-addins/load-object-before-read\n      let imageBase64 = picbase64.m_value;\n\n      //Confirm base64 image and test inserting text at start position\n      // docBody.insertParagraph(\"Here is base64 code\", Word.InsertLocation.start);\n      // console.log(imageBase64);\n      //Send API request to server by call apiRequest function in api.js And insert response text.\n      apiText = getData();\n      let showData = await apiRequest(imageBase64, apiText);\n      // let showData = apiText;\n      console.log(\"showdata========>\", showData);\n      // docBody.insertParagraph(showData.result[0].text, Word.InsertLocation.start);\n      // docBody.insertParagraph(showData.result[0].i18n.pt, Word.InsertLocation.start);showData.choices[0].message.content\n\n      picture.insertParagraph(showData.choices[0].message.content, \"After\");\n\n      // newParagraph.insertLocation.replace(\"New Text\");\n      //docBody.insertParagraph(showData.choices[0].message.content, Word.InsertLocation.end);\n      await context.sync();\n      if (images.items.length > 0) {\n        let image = images.items[0];\n        // let imageId = image.id;\n        docBody.insertParagraph(`image_R: ${image.__R}`, Word.InsertLocation.start);\n      }\n    }\n    if (document.getElementById(\"describe-image\").value === \"describe-all\") {\n      // let range = await context.document.getNextOrNullObject();\n      //let showData = apiText;\n      // Create a proxy object for the first inline picture.\n      let firstPicture;\n      firstPicture = await context.document.body.inlinePictures.getFirstOrNullObject();\n      await context.sync();\n      // console.log(\"firstPicture\", firstPicture);\n      let picbase64 = firstPicture.getBase64ImageSrc();\n      await context.sync();\n      // eslint-disable-next-line office-addins/load-object-before-read\n      let imageBase64 = picbase64.m_value;\n      console.log(\"imageBase64========>\", imageBase64);\n      let showData = await apiRequest(imageBase64, apiText);\n      console.log(\"showdata========>\", showData);\n\n      // Queue a command to load the alternative text title of the picture.\n      //firstPicture.load(\"altTextTitle\");\n      firstPicture.insertParagraph(showData.choices[0].message.content, \"After\");\n      // Synchronize the document state by executing the queued commands,\n      // and return a promise to indicate task completion.\n      await context.sync();\n      while (firstPicture.isNullObject === false) {\n        firstPicture = firstPicture.getNextOrNullObject();\n        // console.log(\"nextPicture========>\", firstPicture);\n        picbase64 = firstPicture.getBase64ImageSrc();\n        await context.sync();\n        imageBase64 = picbase64.m_value;\n        console.log(\"imageBase64========>\", imageBase64);\n        showData = await apiRequest(imageBase64, apiText);\n\n        // console.log(\"Inline Picture Started\");\n        firstPicture.insertParagraph(showData.choices[0].message.content, \"After\");\n        await context.sync();\n      }\n    }\n    //This is just test part for confirm that addin recognize the image\n  });\n}\n/** Default helper for invoking an action and handling errors. */\nasync function tryCatch(callback) {\n  try {\n    await callback();\n  } catch (error) {\n    // Note: In a production add-in, you'd want to notify the user through your add-in's UI.\n    // console.error(error);\n  }\n}\n\nfunction getData() {\n  let result;\n  //Read Data from every selected data\n  let promptText = document.getElementById(\"prompt-text\").value;\n  result = promptText;\n  // let describeImage = document.getElementById(\"describe-image\").value;\n  // const promptList = document.createElement(\"option\");\n  // promptList.textContent = \"Describe for other prompt\";\n  // promptList.id = \"001\";\n  // document.getElementById(\"describe-image\").appendChild(promptList);\n  //let descriptionPosition = document.getElementById(\"description-position\").value;\n\n  let bookType = document.getElementById(\"book-type\").value;\n  if (bookType !== \"no\") result = result + \" In the aspect of \" + bookType + \".\";\n  let clientAge = document.getElementById(\"client-age\").value;\n  if (clientAge === \"0-6\") result = result + \" with very simple and little words.\";\n  if (clientAge === \"7-12\") result = result + \" with simple words.\";\n  if (clientAge === \"13-17\") result = result + \" with middle-level words.\";\n  if (clientAge === \"high-level\") result = result + \" with senior words.\";\n  let language = document.getElementById(\"language\").value;\n  result = result + \" In \" + language;\n\n  //return all edited sentence.\n  return result;\n}\n\nasync function databaseSave() {\n  // localStorage.clear();\n  await Word.run(async function () {\n    //const docBody = context.document.body;\n    savePrompt(document.getElementById(\"prompt-text\").value);\n  });\n  databaseLoad();\n}\n\nasync function databaseLoad() {\n  await Word.run(async function () {\n    //const docBody = context.document.body;\n    let arrayPrompts = await loadPrompt();\n    document.getElementById(\"prompt-list\").innerHTML = \"\";\n    for (let i = 0; i < arrayPrompts.length; i++) {\n      // console.log(\"promptlength===>\", arrayPrompts[i]);\n      const promptList = document.createElement(\"option\");\n      promptList.textContent = arrayPrompts[i].value; //arrayPrompts[i];\n      promptList.value = arrayPrompts[i].key;\n      document.getElementById(\"prompt-list\").appendChild(promptList);\n    }\n  });\n}\n\nfunction clearPromptList() {\n  localStorage.clear();\n  document.getElementById(\"prompt-list\").innerHTML = \"\";\n}\n\nfunction hideButton() {\n  let usePrompt = document.getElementById(\"use-prompt\").value;\n  if (usePrompt === \"use-list\") {\n    document.getElementById(\"save-button\").hidden = true;\n    let selectElement = document.getElementById(\"prompt-list\");\n    let selectedOptionText = selectElement.options[selectElement.selectedIndex].text;\n    document.getElementById(\"prompt-text\").value = selectedOptionText;\n  }\n  if (usePrompt === \"use-entered\") {\n    document.getElementById(\"save-button\").hidden = false;\n  }\n}\n","export async function savePrompt(text) {\r\n  let key = localStorage.length;\r\n  while (localStorage.getItem(key) !== null) {\r\n    console.log(\"savekey==>\", key, \"==\", localStorage.getItem(key));\r\n    key++;\r\n  }\r\n  localStorage.setItem(key, text);\r\n  console.log(\"promptsave\", text);\r\n}\r\nexport async function loadPrompt() {\r\n  let result = [];\r\n\r\n  for (let i = 0; i < localStorage.length; i++) {\r\n    let key = localStorage.key(i);\r\n    let prompt = localStorage.getItem(key);\r\n    console.log(\"key===>\", key, \"prompt==>\", prompt);\r\n    result.push({ key: key, value: prompt });\r\n  }\r\n  console.log(\"result===>\", result);\r\n  return result;\r\n}\r\n"],"names":["___HTML_LOADER_IMPORT_0___","___HTML_LOADER_IMPORT_1___","module","exports","url","options","String","__esModule","default","hash","maybeNeedQuotes","test","concat","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","m","n","getter","d","a","definition","key","o","Object","defineProperty","enumerable","get","g","globalThis","this","Function","e","window","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","scriptUrl","importScripts","location","document","currentScript","src","scripts","getElementsByTagName","length","i","Error","replace","p","b","baseURI","self","href","VERSION","kind","getDefaultAgent","fileFromPath","isFsReadStream","auto","MultipartBody","constructor","body","shims","fetch","Request","Response","Headers","FormData","Blob","File","ReadableStream","getMultipartRequestOptions","manuallyImported","recommendation","_fetch","_Request","_Response","_Headers","error","message","async","form","opts","APIError","status","headers","super","makeMessage","data","code","param","type","msg","JSON","stringify","generate","errorResponse","APIConnectionError","cause","castToError","BadRequestError","AuthenticationError","PermissionDeniedError","NotFoundError","ConflictError","UnprocessableEntityError","RateLimitError","InternalServerError","APIUserAbortError","APIConnectionTimeoutError","arguments","Stream","iterator","controller","fromSSEResponse","response","consumed","decoder","SSEDecoder","done","sse","abort","lineDecoder","LineDecoder","iter","readableStreamAsyncIterable","chunk","line","decode","flush","iterMessages","startsWith","event","parse","console","raw","name","fromReadableStream","readableStream","iterLines","asyncIterator","tee","left","right","teeIterator","queue","next","result","push","shift","toReadableStream","encoder","TextEncoder","start","pull","ctrl","close","bytes","encode","enqueue","err","cancel","return","chunks","endsWith","substring","join","fieldname","_","str","delimiter","index","indexOf","partition","buffer","trailingCR","text","decodeText","slice","trailingNewline","NEWLINE_CHARS","has","lines","split","NEWLINE_REGEXP","pop","Buffer","toString","Uint8Array","from","TextDecoder","ArrayBuffer","textDecoder","stream","reader","getReader","read","releaseLock","cancelPromise","Set","isResponseLike","blob","isBlobLike","size","arrayBuffer","toFile","URL","pathname","bits","parts","isView","isAsyncIterableIterator","getOwnPropertyNames","map","propsForError","getBytes","getStringFromMaybeBuffer","filename","path","getName","x","isMultipartBody","multipartFormRequestOptions","createForm","Promise","all","entries","addFormValue","TypeError","append","lastModified","isFileLike","isUploadable","file","Array","isArray","entry","_AbstractPage_client","defaultParseResponse","props","debug","__binaryResponse","contentType","includes","json","APIPromise","responsePromise","parseResponse","resolve","_thenUnwrap","transform","asResponse","then","withResponse","parsedPromise","onfulfilled","onrejected","catch","onfinally","finally","APIClient","baseURL","maxRetries","timeout","httpAgent","overridenFetch","validatePositiveInteger","authHeaders","defaultHeaders","Accept","getUserAgent","getPlatformHeaders","validateHeaders","customHeaders","defaultIdempotencyKey","uuid4","methodRequest","post","patch","put","method","request","getAPIList","Page","requestAPIList","calculateContentLength","byteLength","buildRequest","query","contentLength","buildURL","minAgentTimeout","idempotencyHeader","idempotencyKey","reqHeaders","keys","forEach","req","agent","signal","prepareRequest","parseHeaders","fromEntries","header","makeStatusError","remainingRetries","makeRequest","optionsInput","retriesRemaining","aborted","AbortController","fetchWithTimeout","retryRequest","responseHeaders","createResponseHeaders","ok","shouldRetry","errText","errJSON","safeJSON","errMessage","PagePromise","isAbsoluteURL","defaultQuery","isEmptyObj","search","stringifyQuery","filter","encodeURIComponent","init","ms","addEventListener","setTimeout","getRequestClient","clearTimeout","shouldRetryHeader","timeoutMillis","retryAfterHeader","timeoutSeconds","parseInt","Number","isNaN","Date","now","isInteger","calculateDefaultRetryTimeoutMillis","sleep","numRetries","Math","min","pow","random","AbstractPage","client","set","receiver","state","f","__classPrivateFieldSet","hasNextPage","getPaginatedItems","nextPageInfo","getNextPage","nextInfo","nextOptions","params","searchParams","__classPrivateFieldGet","iterPages","page","WeakMap","item","Proxy","target","toLowerCase","requestOptionsKeys","isRequestOptions","every","k","hasOwn","normalizeArch","arch","normalizePlatform","platform","_platformHeaders","Deno","build","os","version","EdgeRuntime","process","browserInfo","navigator","browserPatterns","pattern","match","exec","userAgent","browser","getBrowserInfo","getPlatformProperties","startsWithSchemeRegexp","RegExp","readEnv","env","_k","action","args","log","c","object","nextPageParams","CursorPage","info","id","after","bind","delete","Completions","create","Chat","completions","Edits","Embeddings","Files","retrieve","fileId","list","FileObjectsPage","del","content","retrieveContent","waitForProcessing","pollInterval","maxWait","TERMINAL_STATES","Images","createVariation","edit","Speech","Transcriptions","Translations","Audio","transcriptions","translations","speech","Moderations","Models","model","ModelsPage","Jobs","fineTuningJobId","FineTuningJobsPage","listEvents","FineTuningJobEventsPage","FineTuning","jobs","FineTunes","fineTuneId","FineTunesPage","assistantId","AssistantFilesPage","Assistants","files","update","AssistantsPage","isRunnableFunctionWithParse","fn","isAssistantMessage","role","isFunctionMessage","_AbstractChatCompletionRunner_instances","_AbstractChatCompletionRunner_connectedPromise","_AbstractChatCompletionRunner_resolveConnectedPromise","_AbstractChatCompletionRunner_rejectConnectedPromise","_AbstractChatCompletionRunner_endPromise","_AbstractChatCompletionRunner_resolveEndPromise","_AbstractChatCompletionRunner_rejectEndPromise","_AbstractChatCompletionRunner_listeners","_AbstractChatCompletionRunner_ended","_AbstractChatCompletionRunner_errored","_AbstractChatCompletionRunner_aborted","_AbstractChatCompletionRunner_catchingPromiseCreated","_AbstractChatCompletionRunner_getFinalContent","_AbstractChatCompletionRunner_getFinalMessage","_AbstractChatCompletionRunner_getFinalFunctionCall","_AbstractChatCompletionRunner_getFinalFunctionCallResult","_AbstractChatCompletionRunner_calculateTotalUsage","_AbstractChatCompletionRunner_handleError","_AbstractChatCompletionRunner_validateParams","_AbstractChatCompletionRunner_stringifyFunctionCallResult","DEFAULT_MAX_CHAT_COMPLETIONS","AbstractChatCompletionRunner","add","_chatCompletions","messages","_emit","openAIError","reject","_run","executor","_emitFinal","_addChatCompletion","chatCompletion","choices","_addMessage","emit","isToolMessage","function_call","tool_calls","tool_call","function","_connected","ended","errored","on","listener","off","listeners","findIndex","l","splice","once","emitted","finalChatCompletion","completion","finalContent","finalMessage","finalFunctionCall","finalFunctionCallResult","totalUsage","allChatCompletions","some","usage","_createChatCompletion","_runChatCompletion","_runFunctions","restParams","singleFunctionToCall","maxChatCompletions","functionsByName","functions","parameters","description","parsed","rawContent","_runTools","tool_choice","tools","t","tool_call_id","WeakSet","total","completion_tokens","prompt_tokens","total_tokens","ChatCompletionRunner","runFunctions","runner","runTools","_ChatCompletionStream_instances","_ChatCompletionStream_currentChatCompletionSnapshot","_ChatCompletionStream_beginRequest","_ChatCompletionStream_addChunk","_ChatCompletionStream_endRequest","_ChatCompletionStream_accumulateChatCompletion","_a","ChatCompletionStream","currentChatCompletionSnapshot","_fromReadableStream","createChatCompletion","chatId","delta","snapshot","created","finish_reason","finalizeChatCompletion","_b","rest","assign","other","choice","pushQueue","readQueue","ChatCompletionStreamingRunner","chat","threadId","messageId","MessageFilesPage","Messages","ThreadMessagesPage","Steps","runId","stepId","RunStepsPage","Runs","steps","RunsPage","submitToolOutputs","Threads","runs","createAndRun","Beta","assistants","threads","OpenAI","apiKey","organization","dangerouslyAllowBrowser","edits","embeddings","images","audio","moderations","models","fineTuning","fineTunes","beta","_options","Authorization","OpenAIError","_regeneratorRuntime","u","define","configurable","writable","wrap","Generator","Context","makeInvokeMethod","tryCatch","arg","h","s","y","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","v","values","defineIteratorMethods","_invoke","AsyncIterator","invoke","_typeof","__await","callInvokeWithMethodAndArg","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","resultName","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","reset","displayName","isGeneratorFunction","mark","setPrototypeOf","__proto__","awrap","reverse","prev","charAt","stop","rval","handle","complete","finish","delegateYield","asyncGeneratorStep","gen","_next","_throw","apiText","openai","apiRequest","_x","_x2","_apiRequest","apply","_callee","imageData","openai_input","_context","image_url","temperature","max_tokens","_asyncToGenerator","savePrompt","_savePrompt","localStorage","getItem","setItem","loadPrompt","_loadPrompt","_callee2","prompt","_context2","insertParagraph","_insertParagraph","Word","run","_ref","context","docBody","range","picture","picbase64","imageBase64","showData","image","firstPicture","_picbase","_imageBase","_showData","getData","getElementById","getSelection","inlinePictures","load","sync","getFirstOrNullObject","getBase64ImageSrc","m_value","items","__R","InsertLocation","isNullObject","getNextOrNullObject","_tryCatch","_callee3","callback","_context3","t0","bookType","clientAge","databaseSave","_databaseSave","_callee5","_context5","_callee4","_context4","databaseLoad","_databaseLoad","_callee7","_context7","_callee6","arrayPrompts","promptList","_context6","innerHTML","createElement","textContent","appendChild","clearPromptList","clear","hideButton","usePrompt","hidden","selectElement","selectedOptionText","selectedIndex","Office","onReady","host","HostType","onclick","style","display","onchange"],"sourceRoot":""}